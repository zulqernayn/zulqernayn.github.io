var yo={exports:{}},z={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Fc=Object.getOwnPropertySymbols,Gg=Object.prototype.hasOwnProperty,Qg=Object.prototype.propertyIsEnumerable;function Xg(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Yg(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var rd=Yg()?Object.assign:function(t,e){for(var n,r=Xg(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Gg.call(n,o)&&(r[o]=n[o]);if(Fc){i=Fc(n);for(var l=0;l<i.length;l++)Qg.call(n,i[l])&&(r[i[l]]=n[i[l]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=rd,ir=60103,id=60106;z.Fragment=60107;z.StrictMode=60108;z.Profiler=60114;var sd=60109,od=60110,ld=60112;z.Suspense=60113;var ad=60115,ud=60116;if(typeof Symbol=="function"&&Symbol.for){var Ze=Symbol.for;ir=Ze("react.element"),id=Ze("react.portal"),z.Fragment=Ze("react.fragment"),z.StrictMode=Ze("react.strict_mode"),z.Profiler=Ze("react.profiler"),sd=Ze("react.provider"),od=Ze("react.context"),ld=Ze("react.forward_ref"),z.Suspense=Ze("react.suspense"),ad=Ze("react.memo"),ud=Ze("react.lazy")}var Vc=typeof Symbol=="function"&&Symbol.iterator;function Zg(t){return t===null||typeof t!="object"?null:(t=Vc&&t[Vc]||t["@@iterator"],typeof t=="function"?t:null)}function Ai(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hd={};function sr(t,e,n){this.props=t,this.context=e,this.refs=hd,this.updater=n||cd}sr.prototype.isReactComponent={};sr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(Ai(85));this.updater.enqueueSetState(this,t,e,"setState")};sr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fd(){}fd.prototype=sr.prototype;function tu(t,e,n){this.props=t,this.context=e,this.refs=hd,this.updater=n||cd}var nu=tu.prototype=new fd;nu.constructor=tu;eu(nu,sr.prototype);nu.isPureReactComponent=!0;var ru={current:null},dd=Object.prototype.hasOwnProperty,pd={key:!0,ref:!0,__self:!0,__source:!0};function md(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)dd.call(e,r)&&!pd.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ir,type:t,key:s,ref:o,props:i,_owner:ru.current}}function Jg(t,e){return{$$typeof:ir,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ir}function ey(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Uc=/\/+/g;function rl(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ey(""+t.key):e.toString(36)}function gs(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ir:case id:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+rl(o,0):r,Array.isArray(i)?(n="",t!=null&&(n=t.replace(Uc,"$&/")+"/"),gs(i,e,n,"",function(u){return u})):i!=null&&(iu(i)&&(i=Jg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Uc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){s=t[l];var a=r+rl(s,l);o+=gs(s,e,n,a,i)}else if(a=Zg(t),typeof a=="function")for(t=a.call(t),l=0;!(s=t.next()).done;)s=s.value,a=r+rl(s,l++),o+=gs(s,e,n,a,i);else if(s==="object")throw e=""+t,Error(Ai(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return o}function Zi(t,e,n){if(t==null)return t;var r=[],i=0;return gs(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ty(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(n){t._status===0&&(n=n.default,t._status=1,t._result=n)},function(n){t._status===0&&(t._status=2,t._result=n)})}if(t._status===1)return t._result;throw t._result}var gd={current:null};function vt(){var t=gd.current;if(t===null)throw Error(Ai(321));return t}var ny={ReactCurrentDispatcher:gd,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:ru,IsSomeRendererActing:{current:!1},assign:eu};z.Children={map:Zi,forEach:function(t,e,n){Zi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zi(t,function(){e++}),e},toArray:function(t){return Zi(t,function(e){return e})||[]},only:function(t){if(!iu(t))throw Error(Ai(143));return t}};z.Component=sr;z.PureComponent=tu;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;z.cloneElement=function(t,e,n){if(t==null)throw Error(Ai(267,t));var r=eu({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ru.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)dd.call(e,a)&&!pd.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ir,type:t.type,key:i,ref:s,props:r,_owner:o}};z.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:od,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:sd,_context:t},t.Consumer=t};z.createElement=md;z.createFactory=function(t){var e=md.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:ld,render:t}};z.isValidElement=iu;z.lazy=function(t){return{$$typeof:ud,_payload:{_status:-1,_result:t},_init:ty}};z.memo=function(t,e){return{$$typeof:ad,type:t,compare:e===void 0?null:e}};z.useCallback=function(t,e){return vt().useCallback(t,e)};z.useContext=function(t,e){return vt().useContext(t,e)};z.useDebugValue=function(){};z.useEffect=function(t,e){return vt().useEffect(t,e)};z.useImperativeHandle=function(t,e,n){return vt().useImperativeHandle(t,e,n)};z.useLayoutEffect=function(t,e){return vt().useLayoutEffect(t,e)};z.useMemo=function(t,e){return vt().useMemo(t,e)};z.useReducer=function(t,e,n){return vt().useReducer(t,e,n)};z.useRef=function(t){return vt().useRef(t)};z.useState=function(t){return vt().useState(t)};z.version="17.0.2";yo.exports=z;var oT=yo.exports,yd={exports:{}},Ye={},vd={exports:{}},wd={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,n,r,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}if(typeof window=="undefined"||typeof MessageChannel!="function"){var a=null,u=null,h=function(){if(a!==null)try{var k=t.unstable_now();a(!0,k),a=null}catch(O){throw setTimeout(h,0),O}};e=function(k){a!==null?setTimeout(e,0,k):(a=k,setTimeout(h,0))},n=function(k,O){u=setTimeout(k,O)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var m=window.setTimeout,p=window.clearTimeout;if(typeof console!="undefined"){var v=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof v!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var w=!1,C=null,f=-1,c=5,d=0;t.unstable_shouldYield=function(){return t.unstable_now()>=d},i=function(){},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):c=0<k?Math.floor(1e3/k):5};var g=new MessageChannel,y=g.port2;g.port1.onmessage=function(){if(C!==null){var k=t.unstable_now();d=k+c;try{C(!0,k)?y.postMessage(null):(w=!1,C=null)}catch(O){throw y.postMessage(null),O}}else w=!1},e=function(k){C=k,w||(w=!0,y.postMessage(null))},n=function(k,O){f=m(function(){k(t.unstable_now())},O)},r=function(){p(f),f=-1}}function R(k,O){var V=k.length;k.push(O);e:for(;;){var te=V-1>>>1,de=k[te];if(de!==void 0&&0<F(de,O))k[te]=O,k[V]=de,V=te;else break e}}function T(k){return k=k[0],k===void 0?null:k}function A(k){var O=k[0];if(O!==void 0){var V=k.pop();if(V!==O){k[0]=V;e:for(var te=0,de=k.length;te<de;){var Kt=2*(te+1)-1,bt=k[Kt],Er=Kt+1,Sn=k[Er];if(bt!==void 0&&0>F(bt,V))Sn!==void 0&&0>F(Sn,bt)?(k[te]=Sn,k[Er]=V,te=Er):(k[te]=bt,k[Kt]=V,te=Kt);else if(Sn!==void 0&&0>F(Sn,V))k[te]=Sn,k[Er]=V,te=Er;else break e}}return O}return null}function F(k,O){var V=k.sortIndex-O.sortIndex;return V!==0?V:k.id-O.id}var x=[],fe=[],Jo=1,Ke=null,ke=3,Yi=!1,qt=!1,wr=!1;function el(k){for(var O=T(fe);O!==null;){if(O.callback===null)A(fe);else if(O.startTime<=k)A(fe),O.sortIndex=O.expirationTime,R(x,O);else break;O=T(fe)}}function tl(k){if(wr=!1,el(k),!qt)if(T(x)!==null)qt=!0,e(nl);else{var O=T(fe);O!==null&&n(tl,O.startTime-k)}}function nl(k,O){qt=!1,wr&&(wr=!1,r()),Yi=!0;var V=ke;try{for(el(O),Ke=T(x);Ke!==null&&(!(Ke.expirationTime>O)||k&&!t.unstable_shouldYield());){var te=Ke.callback;if(typeof te=="function"){Ke.callback=null,ke=Ke.priorityLevel;var de=te(Ke.expirationTime<=O);O=t.unstable_now(),typeof de=="function"?Ke.callback=de:Ke===T(x)&&A(x),el(O)}else A(x);Ke=T(x)}if(Ke!==null)var Kt=!0;else{var bt=T(fe);bt!==null&&n(tl,bt.startTime-O),Kt=!1}return Kt}finally{Ke=null,ke=V,Yi=!1}}var Wg=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){qt||Yi||(qt=!0,e(nl))},t.unstable_getCurrentPriorityLevel=function(){return ke},t.unstable_getFirstCallbackNode=function(){return T(x)},t.unstable_next=function(k){switch(ke){case 1:case 2:case 3:var O=3;break;default:O=ke}var V=ke;ke=O;try{return k()}finally{ke=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Wg,t.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var V=ke;ke=k;try{return O()}finally{ke=V}},t.unstable_scheduleCallback=function(k,O,V){var te=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?te+V:te):V=te,k){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=V+de,k={id:Jo++,callback:O,priorityLevel:k,startTime:V,expirationTime:de,sortIndex:-1},V>te?(k.sortIndex=V,R(fe,k),T(x)===null&&k===T(fe)&&(wr?r():wr=!0,n(tl,V-te))):(k.sortIndex=de,R(x,k),qt||Yi||(qt=!0,e(nl))),k},t.unstable_wrapCallback=function(k){var O=ke;return function(){var V=ke;ke=O;try{return k.apply(this,arguments)}finally{ke=V}}}})(wd);vd.exports=wd;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=yo.exports,Y=rd,ce=vd.exports;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!vo)throw Error(E(227));var Ed=new Set,ri={};function gn(t,e){Gn(t,e),Gn(t+"Capture",e)}function Gn(t,e){for(ri[t]=e,t=0;t<e.length;t++)Ed.add(e[t])}var gt=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ry=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jc=Object.prototype.hasOwnProperty,Bc={},zc={};function iy(t){return jc.call(zc,t)?!0:jc.call(Bc,t)?!1:ry.test(t)?zc[t]=!0:(Bc[t]=!0,!1)}function sy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function oy(t,e,n,r){if(e===null||typeof e=="undefined"||sy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Le(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ee[t]=new Le(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ee[e]=new Le(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ee[t]=new Le(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ee[t]=new Le(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ee[t]=new Le(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ee[t]=new Le(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ee[t]=new Le(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ee[t]=new Le(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ee[t]=new Le(t,5,!1,t.toLowerCase(),null,!1,!1)});var su=/[\-:]([a-z])/g;function ou(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(su,ou);Ee[e]=new Le(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(su,ou);Ee[e]=new Le(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(su,ou);Ee[e]=new Le(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ee[t]=new Le(t,1,!1,t.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Le("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ee[t]=new Le(t,1,!1,t.toLowerCase(),null,!0,!0)});function lu(t,e,n,r){var i=Ee.hasOwnProperty(e)?Ee[e]:null,s=i!==null?i.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(oy(e,n,i,r)&&(n=null),r||i===null?iy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yn=vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Or=60103,Qt=60106,Et=60107,au=60108,Br=60114,uu=60109,cu=60110,wo=60112,zr=60113,Rs=60120,Eo=60115,hu=60116,fu=60121,du=60128,Sd=60129,pu=60130,Bl=60131;if(typeof Symbol=="function"&&Symbol.for){var ae=Symbol.for;Or=ae("react.element"),Qt=ae("react.portal"),Et=ae("react.fragment"),au=ae("react.strict_mode"),Br=ae("react.profiler"),uu=ae("react.provider"),cu=ae("react.context"),wo=ae("react.forward_ref"),zr=ae("react.suspense"),Rs=ae("react.suspense_list"),Eo=ae("react.memo"),hu=ae("react.lazy"),fu=ae("react.block"),ae("react.scope"),du=ae("react.opaque.id"),Sd=ae("react.debug_trace_mode"),pu=ae("react.offscreen"),Bl=ae("react.legacy_hidden")}var Hc=typeof Symbol=="function"&&Symbol.iterator;function Sr(t){return t===null||typeof t!="object"?null:(t=Hc&&t[Hc]||t["@@iterator"],typeof t=="function"?t:null)}var il;function Lr(t){if(il===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);il=e&&e[1]||""}return`
`+il+t}var sl=!1;function Ji(t,e){if(!t||sl)return"";sl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(a){var r=a}Reflect.construct(t,[],e)}else{try{e.call()}catch(a){r=a}t.call(e.prototype)}else{try{throw Error()}catch(a){r=a}t()}}catch(a){if(a&&r&&typeof a.stack=="string"){for(var i=a.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=l);break}}}finally{sl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lr(t):""}function ly(t){switch(t.tag){case 5:return Lr(t.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return t=Ji(t.type,!1),t;case 11:return t=Ji(t.type.render,!1),t;case 22:return t=Ji(t.type._render,!1),t;case 1:return t=Ji(t.type,!0),t;default:return""}}function On(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Et:return"Fragment";case Qt:return"Portal";case Br:return"Profiler";case au:return"StrictMode";case zr:return"Suspense";case Rs:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cu:return(t.displayName||"Context")+".Consumer";case uu:return(t._context.displayName||"Context")+".Provider";case wo:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Eo:return On(t.type);case fu:return On(t._render);case hu:e=t._payload,t=t._init;try{return On(t(e))}catch{}}return null}function Pt(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Td(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ay(t){var e=Td(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n!="undefined"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function es(t){t._valueTracker||(t._valueTracker=ay(t))}function Cd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Td(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function zl(t,e){var n=e.checked;return Y({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function qc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Pt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kd(t,e){e=e.checked,e!=null&&lu(t,"checked",e,!1)}function Hl(t,e){kd(t,e);var n=Pt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ql(t,e.type,n):e.hasOwnProperty("defaultValue")&&ql(t,e.type,Pt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Kc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ql(t,e,n){(e!=="number"||$s(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function uy(t){var e="";return vo.Children.forEach(t,function(n){n!=null&&(e+=n)}),e}function Kl(t,e){return t=Y({children:void 0},e),(e=uy(e.children))&&(t.children=e),t}function Ln(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Pt(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function bl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return Y({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(E(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(E(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Pt(n)}}function _d(t,e){var n=Pt(e.value),r=Pt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Wl={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Id(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Id(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ts,Nd=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!==Wl.svg||"innerHTML"in t)t.innerHTML=e;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ts.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ii(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cy=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(t){cy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hr[e]=Hr[t]})});function Dd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hr.hasOwnProperty(t)&&Hr[t]?(""+e).trim():e+"px"}function xd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hy=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ql(t,e){if(e){if(hy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Xl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function mu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yl=null,Mn=null,Fn=null;function Gc(t){if(t=$i(t)){if(typeof Yl!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Io(e),Yl(t.stateNode,t.type,e))}}function Ad(t){Mn?Fn?Fn.push(t):Fn=[t]:Mn=t}function Rd(){if(Mn){var t=Mn,e=Fn;if(Fn=Mn=null,Gc(t),e)for(t=0;t<e.length;t++)Gc(e[t])}}function gu(t,e){return t(e)}function $d(t,e,n,r,i){return t(e,n,r,i)}function yu(){}var Pd=gu,Xt=!1,ol=!1;function vu(){(Mn!==null||Fn!==null)&&(yu(),Rd())}function fy(t,e,n){if(ol)return t(e,n);ol=!0;try{return Pd(t,e,n)}finally{ol=!1,vu()}}function si(t,e){var n=t.stateNode;if(n===null)return null;var r=Io(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(E(231,e,typeof n));return n}var Zl=!1;if(gt)try{var Tr={};Object.defineProperty(Tr,"passive",{get:function(){Zl=!0}}),window.addEventListener("test",Tr,Tr),window.removeEventListener("test",Tr,Tr)}catch{Zl=!1}function dy(t,e,n,r,i,s,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var qr=!1,Ps=null,Os=!1,Jl=null,py={onError:function(t){qr=!0,Ps=t}};function my(t,e,n,r,i,s,o,l,a){qr=!1,Ps=null,dy.apply(py,arguments)}function gy(t,e,n,r,i,s,o,l,a){if(my.apply(this,arguments),qr){if(qr){var u=Ps;qr=!1,Ps=null}else throw Error(E(198));Os||(Os=!0,Jl=u)}}function vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Od(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qc(t){if(vn(t)!==t)throw Error(E(188))}function yy(t){var e=t.alternate;if(!e){if(e=vn(t),e===null)throw Error(E(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Qc(i),t;if(s===r)return Qc(i),e;s=s.sibling}throw Error(E(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(E(189))}}if(n.alternate!==r)throw Error(E(190))}if(n.tag!==3)throw Error(E(188));return n.stateNode.current===n?t:e}function Ld(t){if(t=yy(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Xc(t,e){for(var n=t.alternate;e!==null;){if(e===t||e===n)return!0;e=e.return}return!1}var Md,wu,Fd,Vd,ea=!1,nt=[],kt=null,_t=null,It=null,oi=new Map,li=new Map,Cr=[],Yc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ta(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:n|16,nativeEvent:i,targetContainers:[r]}}function Zc(t,e){switch(t){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":oi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":li.delete(e.pointerId)}}function kr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t=ta(e,n,r,i,s),e!==null&&(e=$i(e),e!==null&&wu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vy(t,e,n,r,i){switch(e){case"focusin":return kt=kr(kt,t,e,n,r,i),!0;case"dragenter":return _t=kr(_t,t,e,n,r,i),!0;case"mouseover":return It=kr(It,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return oi.set(s,kr(oi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,li.set(s,kr(li.get(s)||null,t,e,n,r,i)),!0}return!1}function wy(t){var e=Yt(t.target);if(e!==null){var n=vn(e);if(n!==null){if(e=n.tag,e===13){if(e=Od(n),e!==null){t.blockedOn=e,Vd(t.lanePriority,function(){ce.unstable_runWithPriority(t.priority,function(){Fd(n)})});return}}else if(e===3&&n.stateNode.hydrate){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ys(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Cu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null)return e=$i(n),e!==null&&wu(e),t.blockedOn=n,!1;e.shift()}return!0}function Jc(t,e,n){ys(t)&&n.delete(e)}function Ey(){for(ea=!1;0<nt.length;){var t=nt[0];if(t.blockedOn!==null){t=$i(t.blockedOn),t!==null&&Md(t);break}for(var e=t.targetContainers;0<e.length;){var n=Cu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n!==null){t.blockedOn=n;break}e.shift()}t.blockedOn===null&&nt.shift()}kt!==null&&ys(kt)&&(kt=null),_t!==null&&ys(_t)&&(_t=null),It!==null&&ys(It)&&(It=null),oi.forEach(Jc),li.forEach(Jc)}function _r(t,e){t.blockedOn===e&&(t.blockedOn=null,ea||(ea=!0,ce.unstable_scheduleCallback(ce.unstable_NormalPriority,Ey)))}function Ud(t){function e(i){return _r(i,t)}if(0<nt.length){_r(nt[0],t);for(var n=1;n<nt.length;n++){var r=nt[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kt!==null&&_r(kt,t),_t!==null&&_r(_t,t),It!==null&&_r(It,t),oi.forEach(e),li.forEach(e),n=0;n<Cr.length;n++)r=Cr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cr.length&&(n=Cr[0],n.blockedOn===null);)wy(n),n.blockedOn===null&&Cr.shift()}function ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},ll={},jd={};gt&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function So(t){if(ll[t])return ll[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in jd)return ll[t]=e[n];return t}var Bd=So("animationend"),zd=So("animationiteration"),Hd=So("animationstart"),qd=So("transitionend"),Kd=new Map,Eu=new Map,Sy=["abort","abort",Bd,"animationEnd",zd,"animationIteration",Hd,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",qd,"transitionEnd","waiting","waiting"];function Su(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Eu.set(r,e),Kd.set(r,i),gn(i,[r])}}var Ty=ce.unstable_now;Ty();var b=8;function kn(t){if((1&t)!==0)return b=15,1;if((2&t)!==0)return b=14,2;if((4&t)!==0)return b=13,4;var e=24&t;return e!==0?(b=12,e):(t&32)!==0?(b=11,32):(e=192&t,e!==0?(b=10,e):(t&256)!==0?(b=9,256):(e=3584&t,e!==0?(b=8,e):(t&4096)!==0?(b=7,4096):(e=4186112&t,e!==0?(b=6,e):(e=62914560&t,e!==0?(b=5,e):t&67108864?(b=4,67108864):(t&134217728)!==0?(b=3,134217728):(e=805306368&t,e!==0?(b=2,e):(1073741824&t)!==0?(b=1,1073741824):(b=8,t))))))}function Cy(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function ky(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(E(358,t))}}function ai(t,e){var n=t.pendingLanes;if(n===0)return b=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,l=t.pingedLanes;if(s!==0)r=s,i=b=15;else if(s=n&134217727,s!==0){var a=s&~o;a!==0?(r=kn(a),i=b):(l&=s,l!==0&&(r=kn(l),i=b))}else s=n&~o,s!==0?(r=kn(s),i=b):l!==0&&(r=kn(l),i=b);if(r===0)return 0;if(r=31-Ot(r),r=n&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&o)===0){if(kn(e),i<=b)return e;b=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),i=1<<n,r|=t[n],e&=~i;return r}function bd(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ls(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=_n(24&~e),t===0?Ls(10,e):t;case 10:return t=_n(192&~e),t===0?Ls(8,e):t;case 8:return t=_n(3584&~e),t===0&&(t=_n(4186112&~e),t===0&&(t=512)),t;case 2:return e=_n(805306368&~e),e===0&&(e=268435456),e}throw Error(E(358,t))}function _n(t){return t&-t}function al(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function To(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-Ot(e),t[e]=n}var Ot=Math.clz32?Math.clz32:Ny,_y=Math.log,Iy=Math.LN2;function Ny(t){return t===0?32:31-(_y(t)/Iy|0)|0}var Dy=ce.unstable_UserBlockingPriority,xy=ce.unstable_runWithPriority,vs=!0;function Ay(t,e,n,r){Xt||yu();var i=Tu,s=Xt;Xt=!0;try{$d(i,t,e,n,r)}finally{(Xt=s)||vu()}}function Ry(t,e,n,r){xy(Dy,Tu.bind(null,t,e,n,r))}function Tu(t,e,n,r){if(vs){var i;if((i=(e&4)===0)&&0<nt.length&&-1<Yc.indexOf(t))t=ta(null,t,e,n,r),nt.push(t);else{var s=Cu(t,e,n,r);if(s===null)i&&Zc(t,r);else{if(i){if(-1<Yc.indexOf(t)){t=ta(s,t,e,n,r),nt.push(t);return}if(vy(s,t,e,n,r))return;Zc(t,r)}sp(t,e,r,null,n)}}}}function Cu(t,e,n,r){var i=mu(r);if(i=Yt(i),i!==null){var s=vn(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=Od(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return sp(t,e,r,i,n),null}var St=null,ku=null,ws=null;function Wd(){if(ws)return ws;var t,e=ku,n=e.length,r,i="value"in St?St.value:St.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ws=i.slice(t,1<r?1-r:void 0)}function Es(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rs(){return!0}function eh(){return!1}function qe(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rs:eh,this.isPropagationStopped=eh,this}return Y(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),e}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=qe(or),Ri=Y({},or,{view:0,detail:0}),$y=qe(Ri),ul,cl,Ir,Co=Y({},Ri,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Iu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ir&&(Ir&&t.type==="mousemove"?(ul=t.screenX-Ir.screenX,cl=t.screenY-Ir.screenY):cl=ul=0,Ir=t),ul)},movementY:function(t){return"movementY"in t?t.movementY:cl}}),th=qe(Co),Py=Y({},Co,{dataTransfer:0}),Oy=qe(Py),Ly=Y({},Ri,{relatedTarget:0}),hl=qe(Ly),My=Y({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Fy=qe(My),Vy=Y({},or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uy=qe(Vy),jy=Y({},or,{data:0}),nh=qe(jy),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hy[t])?!!e[t]:!1}function Iu(){return qy}var Ky=Y({},Ri,{key:function(t){if(t.key){var e=By[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Iu,charCode:function(t){return t.type==="keypress"?Es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),by=qe(Ky),Wy=Y({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rh=qe(Wy),Gy=Y({},Ri,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Iu}),Qy=qe(Gy),Xy=Y({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yy=qe(Xy),Zy=Y({},Co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jy=qe(Zy),ev=[9,13,27,32],Nu=gt&&"CompositionEvent"in window,Kr=null;gt&&"documentMode"in document&&(Kr=document.documentMode);var tv=gt&&"TextEvent"in window&&!Kr,Gd=gt&&(!Nu||Kr&&8<Kr&&11>=Kr),ih=String.fromCharCode(32),sh=!1;function Qd(t,e){switch(t){case"keyup":return ev.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nn=!1;function nv(t,e){switch(t){case"compositionend":return Xd(e);case"keypress":return e.which!==32?null:(sh=!0,ih);case"textInput":return t=e.data,t===ih&&sh?null:t;default:return null}}function rv(t,e){if(Nn)return t==="compositionend"||!Nu&&Qd(t,e)?(t=Wd(),ws=ku=St=null,Nn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gd&&e.locale!=="ko"?null:e.data;default:return null}}var iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iv[t.type]:e==="textarea"}function Yd(t,e,n,r){Ad(r),e=Ms(e,"onChange"),0<e.length&&(n=new _u("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var br=null,ui=null;function sv(t){np(t,0)}function ko(t){var e=xn(t);if(Cd(e))return t}function ov(t,e){if(t==="change")return e}var Zd=!1;if(gt){var fl;if(gt){var dl="oninput"in document;if(!dl){var lh=document.createElement("div");lh.setAttribute("oninput","return;"),dl=typeof lh.oninput=="function"}fl=dl}else fl=!1;Zd=fl&&(!document.documentMode||9<document.documentMode)}function ah(){br&&(br.detachEvent("onpropertychange",Jd),ui=br=null)}function Jd(t){if(t.propertyName==="value"&&ko(ui)){var e=[];if(Yd(e,ui,t,mu(t)),t=sv,Xt)t(e);else{Xt=!0;try{gu(t,e)}finally{Xt=!1,vu()}}}}function lv(t,e,n){t==="focusin"?(ah(),br=e,ui=n,br.attachEvent("onpropertychange",Jd)):t==="focusout"&&ah()}function av(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ko(ui)}function uv(t,e){if(t==="click")return ko(e)}function cv(t,e){if(t==="input"||t==="change")return ko(e)}function hv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var be=typeof Object.is=="function"?Object.is:hv,fv=Object.prototype.hasOwnProperty;function ci(t,e){if(be(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fv.call(e,n[r])||!be(t[n[r]],e[n[r]]))return!1;return!0}function uh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ch(t,e){var n=uh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=uh(n)}}function ep(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ep(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function hh(){for(var t=window,e=$s();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$s(t.document)}return e}function na(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var dv=gt&&"documentMode"in document&&11>=document.documentMode,Dn=null,ra=null,Wr=null,ia=!1;function fh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ia||Dn==null||Dn!==$s(r)||(r=Dn,"selectionStart"in r&&na(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Wr&&ci(Wr,r)||(Wr=r,r=Ms(ra,"onSelect"),0<r.length&&(e=new _u("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dn)))}Su("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Su("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Su(Sy,2);for(var dh="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),pl=0;pl<dh.length;pl++)Eu.set(dh[pl],0);Gn("onMouseEnter",["mouseout","mouseover"]);Gn("onMouseLeave",["mouseout","mouseover"]);Gn("onPointerEnter",["pointerout","pointerover"]);Gn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function ph(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gy(r,e,void 0,t),t.currentTarget=null}function np(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==s&&i.isPropagationStopped())break e;ph(i,l,u),s=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==s&&i.isPropagationStopped())break e;ph(i,l,u),s=a}}}if(Os)throw t=Jl,Os=!1,Jl=null,t}function W(t,e){var n=lp(e),r=t+"__bubble";n.has(r)||(ip(e,t,2,!1),n.add(r))}var mh="_reactListening"+Math.random().toString(36).slice(2);function rp(t){t[mh]||(t[mh]=!0,Ed.forEach(function(e){tp.has(e)||gh(e,!1,t,null),gh(e,!0,t,null)}))}function gh(t,e,n,r){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=n;if(t==="selectionchange"&&n.nodeType!==9&&(s=n.ownerDocument),r!==null&&!e&&tp.has(t)){if(t!=="scroll")return;i|=2,s=r}var o=lp(s),l=t+"__"+(e?"capture":"bubble");o.has(l)||(e&&(i|=4),ip(s,t,i,e),o.add(l))}function ip(t,e,n,r){var i=Eu.get(e);switch(i===void 0?2:i){case 0:i=Ay;break;case 1:i=Ry;break;default:i=Tu}n=i.bind(null,e,n,t),i=void 0,!Zl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,i){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Yt(l),o===null)return;if(a=o.tag,a===5||a===6){r=s=o;continue e}l=l.parentNode}}r=r.return}fy(function(){var u=s,h=mu(n),m=[];e:{var p=Kd.get(t);if(p!==void 0){var v=_u,w=t;switch(t){case"keypress":if(Es(n)===0)break e;case"keydown":case"keyup":v=by;break;case"focusin":w="focus",v=hl;break;case"focusout":w="blur",v=hl;break;case"beforeblur":case"afterblur":v=hl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=th;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Qy;break;case Bd:case zd:case Hd:v=Fy;break;case qd:v=Yy;break;case"scroll":v=$y;break;case"wheel":v=Jy;break;case"copy":case"cut":case"paste":v=Uy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=rh}var C=(e&4)!==0,f=!C&&t==="scroll",c=C?p!==null?p+"Capture":null:p;C=[];for(var d=u,g;d!==null;){g=d;var y=g.stateNode;if(g.tag===5&&y!==null&&(g=y,c!==null&&(y=si(d,c),y!=null&&C.push(hi(d,y,g)))),f)break;d=d.return}0<C.length&&(p=new v(p,w,null,n,h),m.push({event:p,listeners:C}))}}if((e&7)===0){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&(e&16)===0&&(w=n.relatedTarget||n.fromElement)&&(Yt(w)||w[lr]))break e;if((v||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Yt(w):null,w!==null&&(f=vn(w),w!==f||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(C=th,y="onMouseLeave",c="onMouseEnter",d="mouse",(t==="pointerout"||t==="pointerover")&&(C=rh,y="onPointerLeave",c="onPointerEnter",d="pointer"),f=v==null?p:xn(v),g=w==null?p:xn(w),p=new C(y,d+"leave",v,n,h),p.target=f,p.relatedTarget=g,y=null,Yt(h)===u&&(C=new C(c,d+"enter",w,n,h),C.target=g,C.relatedTarget=f,y=C),f=y,v&&w)t:{for(C=v,c=w,d=0,g=C;g;g=Tn(g))d++;for(g=0,y=c;y;y=Tn(y))g++;for(;0<d-g;)C=Tn(C),d--;for(;0<g-d;)c=Tn(c),g--;for(;d--;){if(C===c||c!==null&&C===c.alternate)break t;C=Tn(C),c=Tn(c)}C=null}else C=null;v!==null&&yh(m,p,v,C,!1),w!==null&&f!==null&&yh(m,f,w,C,!0)}}e:{if(p=u?xn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var R=ov;else if(oh(p))if(Zd)R=cv;else{R=av;var T=lv}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=uv);if(R&&(R=R(t,u))){Yd(m,R,n,h);break e}T&&T(t,p,u),t==="focusout"&&(T=p._wrapperState)&&T.controlled&&p.type==="number"&&ql(p,"number",p.value)}switch(T=u?xn(u):window,t){case"focusin":(oh(T)||T.contentEditable==="true")&&(Dn=T,ra=u,Wr=null);break;case"focusout":Wr=ra=Dn=null;break;case"mousedown":ia=!0;break;case"contextmenu":case"mouseup":case"dragend":ia=!1,fh(m,n,h);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":fh(m,n,h)}var A;if(Nu)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Nn?Qd(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(Gd&&n.locale!=="ko"&&(Nn||F!=="onCompositionStart"?F==="onCompositionEnd"&&Nn&&(A=Wd()):(St=h,ku="value"in St?St.value:St.textContent,Nn=!0)),T=Ms(u,F),0<T.length&&(F=new nh(F,t,null,n,h),m.push({event:F,listeners:T}),A?F.data=A:(A=Xd(n),A!==null&&(F.data=A)))),(A=tv?nv(t,n):rv(t,n))&&(u=Ms(u,"onBeforeInput"),0<u.length&&(h=new nh("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=A))}np(m,e)})}function hi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ms(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=si(t,n),s!=null&&r.unshift(hi(t,s,i)),s=si(t,e),s!=null&&r.push(hi(t,s,i))),t=t.return}return r}function Tn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yh(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=si(n,s),a!=null&&o.unshift(hi(n,a,l))):i||(a=si(n,s),a!=null&&o.push(hi(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}function Fs(){}var ml=null,gl=null;function op(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function sa(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vh=typeof setTimeout=="function"?setTimeout:void 0,pv=typeof clearTimeout=="function"?clearTimeout:void 0;function Du(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function wh(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yl=0;function mv(t){return{$$typeof:du,toString:t,valueOf:t}}var _o=Math.random().toString(36).slice(2),Tt="__reactFiber$"+_o,Vs="__reactProps$"+_o,lr="__reactContainer$"+_o,Eh="__reactEvents$"+_o;function Yt(t){var e=t[Tt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lr]||n[Tt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wh(t);t!==null;){if(n=t[Tt])return n;t=wh(t)}return e}t=n,n=t.parentNode}return null}function $i(t){return t=t[Tt]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Io(t){return t[Vs]||null}function lp(t){var e=t[Eh];return e===void 0&&(e=t[Eh]=new Set),e}var oa=[],An=-1;function jt(t){return{current:t}}function G(t){0>An||(t.current=oa[An],oa[An]=null,An--)}function ee(t,e){An++,oa[An]=t.current,t.current=e}var Lt={},Ae=jt(Lt),je=jt(!1),on=Lt;function Qn(t,e){var n=t.type.contextTypes;if(!n)return Lt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Be(t){return t=t.childContextTypes,t!=null}function Us(){G(je),G(Ae)}function Sh(t,e,n){if(Ae.current!==Lt)throw Error(E(168));ee(Ae,e),ee(je,n)}function ap(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(E(108,On(e)||"Unknown",i));return Y({},n,r)}function Ss(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Lt,on=Ae.current,ee(Ae,t),ee(je,je.current),!0}function Th(t,e,n){var r=t.stateNode;if(!r)throw Error(E(169));n?(t=ap(t,e,on),r.__reactInternalMemoizedMergedChildContext=t,G(je),G(Ae),ee(Ae,t)):G(je),ee(je,n)}var xu=null,nn=null,gv=ce.unstable_runWithPriority,Au=ce.unstable_scheduleCallback,la=ce.unstable_cancelCallback,yv=ce.unstable_shouldYield,Ch=ce.unstable_requestPaint,aa=ce.unstable_now,vv=ce.unstable_getCurrentPriorityLevel,No=ce.unstable_ImmediatePriority,up=ce.unstable_UserBlockingPriority,cp=ce.unstable_NormalPriority,hp=ce.unstable_LowPriority,fp=ce.unstable_IdlePriority,vl={},wv=Ch!==void 0?Ch:function(){},ut=null,Ts=null,wl=!1,kh=aa(),Ne=1e4>kh?aa:function(){return aa()-kh};function Xn(){switch(vv()){case No:return 99;case up:return 98;case cp:return 97;case hp:return 96;case fp:return 95;default:throw Error(E(332))}}function dp(t){switch(t){case 99:return No;case 98:return up;case 97:return cp;case 96:return hp;case 95:return fp;default:throw Error(E(332))}}function ln(t,e){return t=dp(t),gv(t,e)}function fi(t,e,n){return t=dp(t),Au(t,e,n)}function at(){if(Ts!==null){var t=Ts;Ts=null,la(t)}pp()}function pp(){if(!wl&&ut!==null){wl=!0;var t=0;try{var e=ut;ln(99,function(){for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}}),ut=null}catch(n){throw ut!==null&&(ut=ut.slice(t+1)),Au(No,at),n}finally{wl=!1}}}var Ev=yn.ReactCurrentBatchConfig;function Je(t,e){if(t&&t.defaultProps){e=Y({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var js=jt(null),Bs=null,Rn=null,zs=null;function Ru(){zs=Rn=Bs=null}function $u(t){var e=js.current;G(js),t.type._context._currentValue=e}function mp(t,e){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)===e){if(n===null||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,n!==null&&(n.childLanes|=e);t=t.return}}function Un(t,e){Bs=t,zs=Rn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(tt=!0),t.firstContext=null)}function Qe(t,e){if(zs!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(zs=t,e=1073741823),e={context:t,observedBits:e,next:null},Rn===null){if(Bs===null)throw Error(E(308));Rn=e,Bs.dependencies={lanes:0,firstContext:e,responders:null}}else Rn=Rn.next=e;return t._currentValue}var wt=!1;function Pu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function gp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Nt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Dt(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function _h(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function di(t,e,n,r){var i=t.updateQueue;wt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?s=u:o.next=u,o=a;var h=t.alternate;if(h!==null){h=h.updateQueue;var m=h.lastBaseUpdate;m!==o&&(m===null?h.firstBaseUpdate=u:m.next=u,h.lastBaseUpdate=a)}}if(s!==null){m=i.baseState,o=0,h=u=a=null;do{l=s.lane;var p=s.eventTime;if((r&l)===l){h!==null&&(h=h.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,w=s;switch(l=e,p=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){m=v.call(p,m,l);break e}m=v;break e;case 3:v.flags=v.flags&-4097|64;case 0:if(v=w.payload,l=typeof v=="function"?v.call(p,m,l):v,l==null)break e;m=Y({},m,l);break e;case 2:wt=!0}}s.callback!==null&&(t.flags|=32,l=i.effects,l===null?i.effects=[s]:l.push(s))}else p={eventTime:p,lane:l,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=p,a=m):h=h.next=p,o|=l;if(s=s.next,s===null){if(l=i.shared.pending,l===null)break;s=l.next,l.next=null,i.lastBaseUpdate=l,i.shared.pending=null}}while(1);h===null&&(a=m),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=h,Oi|=o,t.lanes=o,t.memoizedState=m}}function Ih(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(E(191,i));i.call(r)}}}var yp=new vo.Component().refs;function Hs(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Y({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Do={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ze(),i=xt(t),s=Nt(r,i);s.payload=e,n!=null&&(s.callback=n),Dt(t,s),At(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ze(),i=xt(t),s=Nt(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),Dt(t,s),At(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ze(),r=xt(t),i=Nt(n,r);i.tag=2,e!=null&&(i.callback=e),Dt(t,i),At(t,r,n)}};function Nh(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ci(n,r)||!ci(i,s):!0}function vp(t,e,n){var r=!1,i=Lt,s=e.contextType;return typeof s=="object"&&s!==null?s=Qe(s):(i=Be(e)?on:Ae.current,r=e.contextTypes,s=(r=r!=null)?Qn(t,i):Lt),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Do,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Dh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Do.enqueueReplaceState(e,e.state,null)}function ua(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yp,Pu(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qe(s):(s=Be(e)?on:Ae.current,i.context=Qn(t,s)),di(t,n,i,r),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hs(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Do.enqueueReplaceState(i,i.state,null),di(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var is=Array.isArray;function Nr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(E(309));var r=n.stateNode}if(!r)throw Error(E(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=r.refs;o===yp&&(o=r.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!n._owner)throw Error(E(290,t))}return t}function ss(t,e){if(t.type!=="textarea")throw Error(E(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function wp(t){function e(f,c){if(t){var d=f.lastEffect;d!==null?(d.nextEffect=c,f.lastEffect=c):f.firstEffect=f.lastEffect=c,c.nextEffect=null,c.flags=8}}function n(f,c){if(!t)return null;for(;c!==null;)e(f,c),c=c.sibling;return null}function r(f,c){for(f=new Map;c!==null;)c.key!==null?f.set(c.key,c):f.set(c.index,c),c=c.sibling;return f}function i(f,c){return f=Ft(f,c),f.index=0,f.sibling=null,f}function s(f,c,d){return f.index=d,t?(d=f.alternate,d!==null?(d=d.index,d<c?(f.flags=2,c):d):(f.flags=2,c)):c}function o(f){return t&&f.alternate===null&&(f.flags=2),f}function l(f,c,d,g){return c===null||c.tag!==6?(c=kl(d,f.mode,g),c.return=f,c):(c=i(c,d),c.return=f,c)}function a(f,c,d,g){return c!==null&&c.elementType===d.type?(g=i(c,d.props),g.ref=Nr(f,c,d),g.return=f,g):(g=Is(d.type,d.key,d.props,null,f.mode,g),g.ref=Nr(f,c,d),g.return=f,g)}function u(f,c,d,g){return c===null||c.tag!==4||c.stateNode.containerInfo!==d.containerInfo||c.stateNode.implementation!==d.implementation?(c=_l(d,f.mode,g),c.return=f,c):(c=i(c,d.children||[]),c.return=f,c)}function h(f,c,d,g,y){return c===null||c.tag!==7?(c=Hn(d,f.mode,g,y),c.return=f,c):(c=i(c,d),c.return=f,c)}function m(f,c,d){if(typeof c=="string"||typeof c=="number")return c=kl(""+c,f.mode,d),c.return=f,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Or:return d=Is(c.type,c.key,c.props,null,f.mode,d),d.ref=Nr(f,null,c),d.return=f,d;case Qt:return c=_l(c,f.mode,d),c.return=f,c}if(is(c)||Sr(c))return c=Hn(c,f.mode,d,null),c.return=f,c;ss(f,c)}return null}function p(f,c,d,g){var y=c!==null?c.key:null;if(typeof d=="string"||typeof d=="number")return y!==null?null:l(f,c,""+d,g);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case Or:return d.key===y?d.type===Et?h(f,c,d.props.children,g,y):a(f,c,d,g):null;case Qt:return d.key===y?u(f,c,d,g):null}if(is(d)||Sr(d))return y!==null?null:h(f,c,d,g,null);ss(f,d)}return null}function v(f,c,d,g,y){if(typeof g=="string"||typeof g=="number")return f=f.get(d)||null,l(c,f,""+g,y);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Or:return f=f.get(g.key===null?d:g.key)||null,g.type===Et?h(c,f,g.props.children,y,g.key):a(c,f,g,y);case Qt:return f=f.get(g.key===null?d:g.key)||null,u(c,f,g,y)}if(is(g)||Sr(g))return f=f.get(d)||null,h(c,f,g,y,null);ss(c,g)}return null}function w(f,c,d,g){for(var y=null,R=null,T=c,A=c=0,F=null;T!==null&&A<d.length;A++){T.index>A?(F=T,T=null):F=T.sibling;var x=p(f,T,d[A],g);if(x===null){T===null&&(T=F);break}t&&T&&x.alternate===null&&e(f,T),c=s(x,c,A),R===null?y=x:R.sibling=x,R=x,T=F}if(A===d.length)return n(f,T),y;if(T===null){for(;A<d.length;A++)T=m(f,d[A],g),T!==null&&(c=s(T,c,A),R===null?y=T:R.sibling=T,R=T);return y}for(T=r(f,T);A<d.length;A++)F=v(T,f,A,d[A],g),F!==null&&(t&&F.alternate!==null&&T.delete(F.key===null?A:F.key),c=s(F,c,A),R===null?y=F:R.sibling=F,R=F);return t&&T.forEach(function(fe){return e(f,fe)}),y}function C(f,c,d,g){var y=Sr(d);if(typeof y!="function")throw Error(E(150));if(d=y.call(d),d==null)throw Error(E(151));for(var R=y=null,T=c,A=c=0,F=null,x=d.next();T!==null&&!x.done;A++,x=d.next()){T.index>A?(F=T,T=null):F=T.sibling;var fe=p(f,T,x.value,g);if(fe===null){T===null&&(T=F);break}t&&T&&fe.alternate===null&&e(f,T),c=s(fe,c,A),R===null?y=fe:R.sibling=fe,R=fe,T=F}if(x.done)return n(f,T),y;if(T===null){for(;!x.done;A++,x=d.next())x=m(f,x.value,g),x!==null&&(c=s(x,c,A),R===null?y=x:R.sibling=x,R=x);return y}for(T=r(f,T);!x.done;A++,x=d.next())x=v(T,f,A,x.value,g),x!==null&&(t&&x.alternate!==null&&T.delete(x.key===null?A:x.key),c=s(x,c,A),R===null?y=x:R.sibling=x,R=x);return t&&T.forEach(function(Jo){return e(f,Jo)}),y}return function(f,c,d,g){var y=typeof d=="object"&&d!==null&&d.type===Et&&d.key===null;y&&(d=d.props.children);var R=typeof d=="object"&&d!==null;if(R)switch(d.$$typeof){case Or:e:{for(R=d.key,y=c;y!==null;){if(y.key===R){switch(y.tag){case 7:if(d.type===Et){n(f,y.sibling),c=i(y,d.props.children),c.return=f,f=c;break e}break;default:if(y.elementType===d.type){n(f,y.sibling),c=i(y,d.props),c.ref=Nr(f,y,d),c.return=f,f=c;break e}}n(f,y);break}else e(f,y);y=y.sibling}d.type===Et?(c=Hn(d.props.children,f.mode,g,d.key),c.return=f,f=c):(g=Is(d.type,d.key,d.props,null,f.mode,g),g.ref=Nr(f,c,d),g.return=f,f=g)}return o(f);case Qt:e:{for(y=d.key;c!==null;){if(c.key===y)if(c.tag===4&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(f,c.sibling),c=i(c,d.children||[]),c.return=f,f=c;break e}else{n(f,c);break}else e(f,c);c=c.sibling}c=_l(d,f.mode,g),c.return=f,f=c}return o(f)}if(typeof d=="string"||typeof d=="number")return d=""+d,c!==null&&c.tag===6?(n(f,c.sibling),c=i(c,d),c.return=f,f=c):(n(f,c),c=kl(d,f.mode,g),c.return=f,f=c),o(f);if(is(d))return w(f,c,d,g);if(Sr(d))return C(f,c,d,g);if(R&&ss(f,d),typeof d=="undefined"&&!y)switch(f.tag){case 1:case 22:case 0:case 11:case 15:throw Error(E(152,On(f.type)||"Component"))}return n(f,c)}}var qs=wp(!0),Ep=wp(!1),Pi={},st=jt(Pi),pi=jt(Pi),mi=jt(Pi);function Zt(t){if(t===Pi)throw Error(E(174));return t}function ca(t,e){switch(ee(mi,e),ee(pi,t),ee(st,Pi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gl(e,t)}G(st),ee(st,e)}function Yn(){G(st),G(pi),G(mi)}function xh(t){Zt(mi.current);var e=Zt(st.current),n=Gl(e,t.type);e!==n&&(ee(pi,t),ee(st,n))}function Ou(t){pi.current===t&&(G(st),G(pi))}var Z=jt(0);function Ks(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ft=null,Ct=null,ot=!1;function Sp(t,e){var n=We(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Ah(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function ha(t){if(ot){var e=Ct;if(e){var n=e;if(!Ah(t,e)){if(e=Vn(n.nextSibling),!e||!Ah(t,e)){t.flags=t.flags&-1025|2,ot=!1,ft=t;return}Sp(ft,n)}ft=t,Ct=Vn(e.firstChild)}else t.flags=t.flags&-1025|2,ot=!1,ft=t}}function Rh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function os(t){if(t!==ft)return!1;if(!ot)return Rh(t),ot=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!sa(e,t.memoizedProps))for(e=Ct;e;)Sp(t,e),e=Vn(e.nextSibling);if(Rh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ct=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ct=null}}else Ct=ft?Vn(t.stateNode.nextSibling):null;return!0}function El(){Ct=ft=null,ot=!1}var jn=[];function Lu(){for(var t=0;t<jn.length;t++)jn[t]._workInProgressVersionPrimary=null;jn.length=0}var Gr=yn.ReactCurrentDispatcher,Ge=yn.ReactCurrentBatchConfig,gi=0,ne=null,_e=null,pe=null,bs=!1,Qr=!1;function Me(){throw Error(E(321))}function Mu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!be(t[n],e[n]))return!1;return!0}function Fu(t,e,n,r,i,s){if(gi=s,ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gr.current=t===null||t.memoizedState===null?Tv:Cv,t=n(r,i),Qr){s=0;do{if(Qr=!1,!(25>s))throw Error(E(301));s+=1,pe=_e=null,e.updateQueue=null,Gr.current=kv,t=n(r,i)}while(Qr)}if(Gr.current=Xs,e=_e!==null&&_e.next!==null,gi=0,pe=_e=ne=null,bs=!1,e)throw Error(E(300));return t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?ne.memoizedState=pe=t:pe=pe.next=t,pe}function wn(){if(_e===null){var t=ne.alternate;t=t!==null?t.memoizedState:null}else t=_e.next;var e=pe===null?ne.memoizedState:pe.next;if(e!==null)pe=e,_e=t;else{if(t===null)throw Error(E(310));_e=t,t={memoizedState:_e.memoizedState,baseState:_e.baseState,baseQueue:_e.baseQueue,queue:_e.queue,next:null},pe===null?ne.memoizedState=pe=t:pe=pe.next=t}return pe}function rt(t,e){return typeof e=="function"?e(t):e}function Dr(t){var e=wn(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=_e,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){i=i.next,r=r.baseState;var l=o=s=null,a=i;do{var u=a.lane;if((gi&u)===u)l!==null&&(l=l.next={lane:0,action:a.action,eagerReducer:a.eagerReducer,eagerState:a.eagerState,next:null}),r=a.eagerReducer===t?a.eagerState:t(r,a.action);else{var h={lane:u,action:a.action,eagerReducer:a.eagerReducer,eagerState:a.eagerState,next:null};l===null?(o=l=h,s=r):l=l.next=h,ne.lanes|=u,Oi|=u}a=a.next}while(a!==null&&a!==i);l===null?s=r:l.next=o,be(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function xr(t){var e=wn(),n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);be(s,e.memoizedState)||(tt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function $h(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===r:(t=t.mutableReadLanes,(t=(gi&t)===t)&&(e._workInProgressVersionPrimary=r,jn.push(e))),t)return n(e._source);throw jn.push(e),Error(E(350))}function Tp(t,e,n,r){var i=Oe;if(i===null)throw Error(E(349));var s=e._getVersion,o=s(e._source),l=Gr.current,a=l.useState(function(){return $h(i,e,n)}),u=a[1],h=a[0];a=pe;var m=t.memoizedState,p=m.refs,v=p.getSnapshot,w=m.source;m=m.subscribe;var C=ne;return t.memoizedState={refs:p,source:e,subscribe:r},l.useEffect(function(){p.getSnapshot=n,p.setSnapshot=u;var f=s(e._source);if(!be(o,f)){f=n(e._source),be(h,f)||(u(f),f=xt(C),i.mutableReadLanes|=f&i.pendingLanes),f=i.mutableReadLanes,i.entangledLanes|=f;for(var c=i.entanglements,d=f;0<d;){var g=31-Ot(d),y=1<<g;c[g]|=f,d&=~y}}},[n,e,r]),l.useEffect(function(){return r(e._source,function(){var f=p.getSnapshot,c=p.setSnapshot;try{c(f(e._source));var d=xt(C);i.mutableReadLanes|=d&i.pendingLanes}catch(g){c(function(){throw g})}})},[e,r]),be(v,n)&&be(w,e)&&be(m,r)||(t={pending:null,dispatch:null,lastRenderedReducer:rt,lastRenderedState:h},t.dispatch=u=ju.bind(null,ne,t),a.queue=t,a.baseQueue=null,h=$h(i,e,n),a.memoizedState=a.baseState=h),h}function Cp(t,e,n){var r=wn();return Tp(r,t,e,n)}function Ar(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:rt,lastRenderedState:t},t=t.dispatch=ju.bind(null,ne,t),[e.memoizedState,t]}function Ws(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ne.updateQueue,e===null?(e={lastEffect:null},ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ph(t){var e=Jt();return t={current:t},e.memoizedState=t}function Gs(){return wn().memoizedState}function fa(t,e,n,r){var i=Jt();ne.flags|=t,i.memoizedState=Ws(1|e,n,void 0,r===void 0?null:r)}function Vu(t,e,n,r){var i=wn();r=r===void 0?null:r;var s=void 0;if(_e!==null){var o=_e.memoizedState;if(s=o.destroy,r!==null&&Mu(r,o.deps)){Ws(e,n,s,r);return}}ne.flags|=t,i.memoizedState=Ws(1|e,n,s,r)}function Oh(t,e){return fa(516,4,t,e)}function Qs(t,e){return Vu(516,4,t,e)}function kp(t,e){return Vu(4,2,t,e)}function _p(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ip(t,e,n){return n=n!=null?n.concat([t]):null,Vu(4,2,_p.bind(null,e,t),n)}function Uu(){}function Np(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Dp(t,e){var n=wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sv(t,e){var n=Xn();ln(98>n?98:n,function(){t(!0)}),ln(97<n?97:n,function(){var r=Ge.transition;Ge.transition=1;try{t(!1),e()}finally{Ge.transition=r}})}function ju(t,e,n){var r=ze(),i=xt(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===ne||o!==null&&o===ne)Qr=bs=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,a=o(l,n);if(s.eagerReducer=o,s.eagerState=a,be(a,l))return}catch{}finally{}At(t,i,r)}}var Xs={readContext:Qe,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useOpaqueIdentifier:Me,unstable_isNewReconciler:!1},Tv={readContext:Qe,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Qe,useEffect:Oh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fa(4,2,_p.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fa(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=ju.bind(null,ne,t),[r.memoizedState,t]},useRef:Ph,useState:Ar,useDebugValue:Uu,useDeferredValue:function(t){var e=Ar(t),n=e[0],r=e[1];return Oh(function(){var i=Ge.transition;Ge.transition=1;try{r(t)}finally{Ge.transition=i}},[t]),n},useTransition:function(){var t=Ar(!1),e=t[0];return t=Sv.bind(null,t[1]),Ph(t),[t,e]},useMutableSource:function(t,e,n){var r=Jt();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},Tp(r,t,e,n)},useOpaqueIdentifier:function(){if(ot){var t=!1,e=mv(function(){throw t||(t=!0,n("r:"+(yl++).toString(36))),Error(E(355))}),n=Ar(e)[1];return(ne.mode&2)===0&&(ne.flags|=516,Ws(5,function(){n("r:"+(yl++).toString(36))},void 0,null)),e}return e="r:"+(yl++).toString(36),Ar(e),e},unstable_isNewReconciler:!1},Cv={readContext:Qe,useCallback:Np,useContext:Qe,useEffect:Qs,useImperativeHandle:Ip,useLayoutEffect:kp,useMemo:Dp,useReducer:Dr,useRef:Gs,useState:function(){return Dr(rt)},useDebugValue:Uu,useDeferredValue:function(t){var e=Dr(rt),n=e[0],r=e[1];return Qs(function(){var i=Ge.transition;Ge.transition=1;try{r(t)}finally{Ge.transition=i}},[t]),n},useTransition:function(){var t=Dr(rt)[0];return[Gs().current,t]},useMutableSource:Cp,useOpaqueIdentifier:function(){return Dr(rt)[0]},unstable_isNewReconciler:!1},kv={readContext:Qe,useCallback:Np,useContext:Qe,useEffect:Qs,useImperativeHandle:Ip,useLayoutEffect:kp,useMemo:Dp,useReducer:xr,useRef:Gs,useState:function(){return xr(rt)},useDebugValue:Uu,useDeferredValue:function(t){var e=xr(rt),n=e[0],r=e[1];return Qs(function(){var i=Ge.transition;Ge.transition=1;try{r(t)}finally{Ge.transition=i}},[t]),n},useTransition:function(){var t=xr(rt)[0];return[Gs().current,t]},useMutableSource:Cp,useOpaqueIdentifier:function(){return xr(rt)[0]},unstable_isNewReconciler:!1},_v=yn.ReactCurrentOwner,tt=!1;function Fe(t,e,n,r){e.child=t===null?Ep(e,null,n,r):qs(e,t.child,n,r)}function Lh(t,e,n,r,i){n=n.render;var s=e.ref;return Un(e,i),r=Fu(t,e,n,r,s,i),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,dt(t,e,i)):(e.flags|=1,Fe(t,e,r,i),e.child)}function Mh(t,e,n,r,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!bu(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,xp(t,e,o,r,i,s)):(t=Is(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,n=n.compare,n=n!==null?n:ci,n(i,r)&&t.ref===e.ref)?dt(t,e,s):(e.flags|=1,t=Ft(o,r),t.ref=e.ref,t.return=e,e.child=t)}function xp(t,e,n,r,i,s){if(t!==null&&ci(t.memoizedProps,r)&&t.ref===e.ref)if(tt=!1,(s&i)!==0)(t.flags&16384)!==0&&(tt=!0);else return e.lanes=t.lanes,dt(t,e,s);return da(t,e,n,r,s)}function Sl(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},as(e,n);else if((n&1073741824)!==0)e.memoizedState={baseLanes:0},as(e,s!==null?s.baseLanes:n);else return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},as(e,t),null;else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,as(e,r);return Fe(t,e,i,n),e.child}function Ap(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=128)}function da(t,e,n,r,i){var s=Be(n)?on:Ae.current;return s=Qn(e,s),Un(e,i),n=Fu(t,e,n,r,s,i),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,dt(t,e,i)):(e.flags|=1,Fe(t,e,n,i),e.child)}function Fh(t,e,n,r,i){if(Be(n)){var s=!0;Ss(e)}else s=!1;if(Un(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),vp(e,n,r),ua(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qe(u):(u=Be(n)?on:Ae.current,u=Qn(e,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Dh(e,o,r,u),wt=!1;var p=e.memoizedState;o.state=p,di(e,r,o,i),a=e.memoizedState,l!==r||p!==a||je.current||wt?(typeof h=="function"&&(Hs(e,n,h,r),a=e.memoizedState),(l=wt||Nh(e,n,l,r,p,a,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{o=e.stateNode,gp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:Je(e.type,l),o.props=u,m=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Qe(a):(a=Be(n)?on:Ae.current,a=Qn(e,a));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==a)&&Dh(e,o,r,a),wt=!1,p=e.memoizedState,o.state=p,di(e,r,o,i);var w=e.memoizedState;l!==m||p!==w||je.current||wt?(typeof v=="function"&&(Hs(e,n,v,r),w=e.memoizedState),(u=wt||Nh(e,n,u,r,p,w,a))?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=256),r=!1)}return pa(t,e,n,r,s,i)}function pa(t,e,n,r,i,s){Ap(t,e);var o=(e.flags&64)!==0;if(!r&&!o)return i&&Th(e,n,!1),dt(t,e,s);r=e.stateNode,_v.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qs(e,t.child,null,s),e.child=qs(e,null,l,s)):Fe(t,e,l,s),e.memoizedState=r.state,i&&Th(e,n,!0),e.child}function Vh(t){var e=t.stateNode;e.pendingContext?Sh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sh(t,e.context,!1),ca(t,e.containerInfo)}var ls={dehydrated:null,retryLane:0};function Uh(t,e,n){var r=e.pendingProps,i=Z.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(i|=1),ee(Z,i&1),t===null?(r.fallback!==void 0&&ha(e),t=r.children,i=r.fallback,s?(t=jh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ls,t):typeof r.unstable_expectedLoadTime=="number"?(t=jh(e,t,i,n),e.child.memoizedState={baseLanes:n},e.memoizedState=ls,e.lanes=33554432,t):(n=Wu({mode:"visible",children:t},e.mode,n,null),n.return=e,e.child=n)):t.memoizedState!==null?s?(r=zh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=ls,r):(n=Bh(t,e,r.children,n),e.memoizedState=null,n):s?(r=zh(t,e,r.children,r.fallback,n),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:n}:{baseLanes:i.baseLanes|n},s.childLanes=t.childLanes&~n,e.memoizedState=ls,r):(n=Bh(t,e,r.children,n),e.memoizedState=null,n)}function jh(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=Wu(e,i,0,null),n=Hn(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Bh(t,e,n,r){var i=t.child;return t=i.sibling,n=Ft(i,{mode:"visible",children:n}),(e.mode&2)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function zh(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var l={mode:"hidden",children:n};return(s&2)===0&&e.child!==o?(n=e.child,n.childLanes=0,n.pendingProps=l,o=n.lastEffect,o!==null?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Ft(o,l),t!==null?r=Ft(t,r):(r=Hn(r,s,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Hh(t,e){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),mp(t.return,e)}function Tl(t,e,n,r,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function qh(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fe(t,e,r.children,n),r=Z.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hh(t,n);else if(t.tag===19)Hh(t,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ee(Z,r),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ks(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Tl(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ks(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Tl(e,!0,n,null,s,e.lastEffect);break;case"together":Tl(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function dt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Oi|=e.lanes,(n&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,n=Ft(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ft(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}return null}var Rp,ma,$p,Pp;Rp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ma=function(){};$p=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Zt(st.current);var s=null;switch(n){case"input":i=zl(t,i),r=zl(t,r),s=[];break;case"option":i=Kl(t,i),r=Kl(t,r),s=[];break;case"select":i=Y({},i,{value:void 0}),r=Y({},r,{value:void 0}),s=[];break;case"textarea":i=bl(t,i),r=bl(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fs)}Ql(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ri.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(s||(s=[]),s.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(s=s||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(s=s||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ri.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&W("scroll",t),s||l===a||(s=[])):typeof a=="object"&&a!==null&&a.$$typeof===du?a.toString():(s=s||[]).push(u,a))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Pp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Rr(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Iv(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Be(e.type)&&Us(),null;case 3:return Yn(),G(je),G(Ae),Lu(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(os(e)?e.flags|=4:r.hydrate||(e.flags|=256)),ma(e),null;case 5:Ou(e);var i=Zt(mi.current);if(n=e.type,t!==null&&e.stateNode!=null)$p(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(E(166));return null}if(t=Zt(st.current),os(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Tt]=e,r[Vs]=s,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(t=0;t<Mr.length;t++)W(Mr[t],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":qc(r,s),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},W("invalid",r);break;case"textarea":bc(r,s),W("invalid",r)}Ql(n,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?r.textContent!==i&&(t=["children",i]):typeof i=="number"&&r.textContent!==""+i&&(t=["children",""+i]):ri.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&W("scroll",r));switch(n){case"input":es(r),Kc(r,s,!0);break;case"textarea":es(r),Wc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Fs)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Wl.html&&(t=Id(n)),t===Wl.html?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Tt]=e,t[Vs]=r,Rp(t,e,!1,!1),e.stateNode=t,o=Xl(n,r),n){case"dialog":W("cancel",t),W("close",t),i=r;break;case"iframe":case"object":case"embed":W("load",t),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)W(Mr[i],t);i=r;break;case"source":W("error",t),i=r;break;case"img":case"image":case"link":W("error",t),W("load",t),i=r;break;case"details":W("toggle",t),i=r;break;case"input":qc(t,r),i=zl(t,r),W("invalid",t);break;case"option":i=Kl(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Y({},r,{value:void 0}),W("invalid",t);break;case"textarea":bc(t,r),i=bl(t,r),W("invalid",t);break;default:i=r}Ql(n,i);var l=i;for(s in l)if(l.hasOwnProperty(s)){var a=l[s];s==="style"?xd(t,a):s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Nd(t,a)):s==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&ii(t,a):typeof a=="number"&&ii(t,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ri.hasOwnProperty(s)?a!=null&&s==="onScroll"&&W("scroll",t):a!=null&&lu(t,s,a,o))}switch(n){case"input":es(t),Kc(t,r,!1);break;case"textarea":es(t),Wc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Pt(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ln(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ln(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fs)}op(n,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)Pp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(E(166));n=Zt(mi.current),Zt(st.current),os(e)?(r=e.stateNode,n=e.memoizedProps,r[Tt]=e,r.nodeValue!==n&&(e.flags|=4)):(r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=e,e.stateNode=r)}return null;case 13:return G(Z),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=n,e):(r=r!==null,n=!1,t===null?e.memoizedProps.fallback!==void 0&&os(e):n=t.memoizedState!==null,r&&!n&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(Z.current&1)!==0?ge===0&&(ge=3):((ge===0||ge===3)&&(ge=4),Oe===null||(Oi&134217727)===0&&(ur&134217727)===0||Bn(Oe,De))),(r||n)&&(e.flags|=4),null);case 4:return Yn(),ma(e),t===null&&rp(e.stateNode.containerInfo),null;case 10:return $u(e),null;case 17:return Be(e.type)&&Us(),null;case 19:if(G(Z),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,o=r.rendering,o===null)if(s)Rr(r,!1);else{if(ge!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Ks(t),o!==null){for(e.flags|=64,Rr(r,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ee(Z,Z.current&1|2),e.child}t=t.sibling}r.tail!==null&&Ne()>Sa&&(e.flags|=64,s=!0,Rr(r,!1),e.lanes=33554432)}else{if(!s)if(t=Ks(o),t!==null){if(e.flags|=64,s=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Rr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!ot)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*Ne()-r.renderingStartTime>Sa&&n!==1073741824&&(e.flags|=64,s=!0,Rr(r,!1),e.lanes=33554432);r.isBackwards?(o.sibling=e.child,e.child=o):(n=r.last,n!==null?n.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Ne(),n.sibling=null,e=Z.current,ee(Z,s?e&1|2:e&1),n):null;case 23:case 24:return Ku(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(E(156,e.tag))}function Nv(t){switch(t.tag){case 1:Be(t.type)&&Us();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(Yn(),G(je),G(Ae),Lu(),e=t.flags,(e&64)!==0)throw Error(E(285));return t.flags=e&-4097|64,t;case 5:return Ou(t),null;case 13:return G(Z),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return G(Z),null;case 4:return Yn(),null;case 10:return $u(t),null;case 23:case 24:return Ku(),null;default:return null}}function Bu(t,e){try{var n="",r=e;do n+=ly(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function ga(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Dv=typeof WeakMap=="function"?WeakMap:Map;function Op(t,e,n){n=Nt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zs||(Zs=!0,Ta=r),ga(t,e)},n}function Lp(t,e,n){n=Nt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return ga(t,e),r(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){typeof r!="function"&&(it===null?it=new Set([this]):it.add(this),ga(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}var xv=typeof WeakSet=="function"?WeakSet:Set;function Kh(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Rt(t,n)}else e.current=null}function Av(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var n=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?n:Je(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&Du(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(E(163))}function Rv(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=n.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;r=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(qp(n,t),Uv(n,t)),t=r}while(t!==e)}return;case 1:t=n.stateNode,n.flags&4&&(e===null?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Je(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=n.updateQueue,e!==null&&Ih(n,e,t);return;case 3:if(e=n.updateQueue,e!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Ih(n,e,t)}return;case 5:t=n.stateNode,e===null&&n.flags&4&&op(n.type,n.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Ud(n))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(E(163))}function bh(t,e){for(var n=t;;){if(n.tag===5){var r=n.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,r.style.display=Dd("display",i)}}else if(n.tag===6)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((n.tag!==23&&n.tag!==24||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Wh(t,e){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(xu,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,i!==void 0)if((r&4)!==0)qp(e,n);else{r=e;try{i()}catch(s){Rt(r,s)}}n=n.next}while(n!==t)}break;case 1:if(Kh(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Rt(e,s)}break;case 5:Kh(e);break;case 4:Mp(t,e)}}function Gh(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function Qh(t){return t.tag===5||t.tag===3||t.tag===4}function Xh(t){e:{for(var e=t.return;e!==null;){if(Qh(e))break e;e=e.return}throw Error(E(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(E(161))}n.flags&16&&(ii(e,""),n.flags&=-17);e:t:for(n=t;;){for(;n.sibling===null;){if(n.return===null||Qh(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2)){n=n.stateNode;break e}}r?ya(t,n,e):va(t,n,e)}function ya(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fs));else if(r!==4&&(t=t.child,t!==null))for(ya(t,e,n),t=t.sibling;t!==null;)ya(t,e,n),t=t.sibling}function va(t,e,n){var r=t.tag,i=r===5||r===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(va(t,e,n),t=t.sibling;t!==null;)va(t,e,n),t=t.sibling}function Mp(t,e){for(var n=e,r=!1,i,s;;){if(!r){r=n.return;e:for(;;){if(r===null)throw Error(E(160));switch(i=r.stateNode,r.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}r=r.return}r=!0}if(n.tag===5||n.tag===6){e:for(var o=t,l=n,a=l;;)if(Wh(o,a),a.child!==null&&a.tag!==4)a.child.return=a,a=a.child;else{if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}s?(o=i,l=n.stateNode,o.nodeType===8?o.parentNode.removeChild(l):o.removeChild(l)):i.removeChild(n.stateNode)}else if(n.tag===4){if(n.child!==null){i=n.stateNode.containerInfo,s=!0,n.child.return=n,n=n.child;continue}}else if(Wh(t,n),n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return,n.tag===4&&(r=!1)}n.sibling.return=n.return,n=n.sibling}}function Cl(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var r=n=n.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==n)}return;case 1:return;case 5:if(n=e.stateNode,n!=null){r=e.memoizedProps;var i=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(n[Vs]=r,t==="input"&&r.type==="radio"&&r.name!=null&&kd(n,r),Xl(t,i),e=Xl(t,r),i=0;i<s.length;i+=2){var o=s[i],l=s[i+1];o==="style"?xd(n,l):o==="dangerouslySetInnerHTML"?Nd(n,l):o==="children"?ii(n,l):lu(n,o,l,e)}switch(t){case"input":Hl(n,r);break;case"textarea":_d(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Ln(n,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Ln(n,!!r.multiple,r.defaultValue,!0):Ln(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(E(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:n=e.stateNode,n.hydrate&&(n.hydrate=!1,Ud(n.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(qu=Ne(),bh(e.child,!0)),Yh(e);return;case 19:Yh(e);return;case 17:return;case 23:case 24:bh(e,e.memoizedState!==null);return}throw Error(E(163))}function Yh(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xv),e.forEach(function(r){var i=zv.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $v(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var Pv=Math.ceil,Ys=yn.ReactCurrentDispatcher,zu=yn.ReactCurrentOwner,P=0,Oe=null,le=null,De=0,an=0,wa=jt(0),ge=0,xo=null,ar=0,Oi=0,ur=0,Hu=0,Ea=null,qu=0,Sa=1/0;function cr(){Sa=Ne()+500}var N=null,Zs=!1,Ta=null,it=null,Mt=!1,Xr=null,Fr=90,Ca=[],ka=[],mt=null,Yr=0,_a=null,Cs=-1,ct=0,ks=0,Zr=null,_s=!1;function ze(){return(P&48)!==0?Ne():Cs!==-1?Cs:Cs=Ne()}function xt(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Xn()===99?1:2;if(ct===0&&(ct=ar),Ev.transition!==0){ks!==0&&(ks=Ea!==null?Ea.pendingLanes:0),t=ct;var e=4186112&~ks;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Xn(),(P&4)!==0&&t===98?t=Ls(12,ct):(t=Cy(t),t=Ls(t,ct)),t}function At(t,e,n){if(50<Yr)throw Yr=0,_a=null,Error(E(185));if(t=Ao(t,e),t===null)return null;To(t,e,n),t===Oe&&(ur|=e,ge===4&&Bn(t,De));var r=Xn();e===1?(P&8)!==0&&(P&48)===0?Ia(t):(Xe(t,n),P===0&&(cr(),at())):((P&4)===0||r!==98&&r!==99||(mt===null?mt=new Set([t]):mt.add(t)),Xe(t,n)),Ea=t}function Ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}function Xe(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ot(o),a=1<<l,u=s[l];if(u===-1){if((a&r)===0||(a&i)!==0){u=e,kn(a);var h=b;s[l]=10<=h?u+250:6<=h?u+5e3:-1}}else u<=e&&(t.expiredLanes|=a);o&=~a}if(r=ai(t,t===Oe?De:0),e=b,r===0)n!==null&&(n!==vl&&la(n),t.callbackNode=null,t.callbackPriority=0);else{if(n!==null){if(t.callbackPriority===e)return;n!==vl&&la(n)}e===15?(n=Ia.bind(null,t),ut===null?(ut=[n],Ts=Au(No,pp)):ut.push(n),n=vl):e===14?n=fi(99,Ia.bind(null,t)):(n=ky(e),n=fi(n,Fp.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function Fp(t){if(Cs=-1,ks=ct=0,(P&48)!==0)throw Error(E(327));var e=t.callbackNode;if(Bt()&&t.callbackNode!==e)return null;var n=ai(t,t===Oe?De:0);if(n===0)return null;var r=n,i=P;P|=16;var s=Bp();(Oe!==t||De!==r)&&(cr(),zn(t,r));do try{Mv();break}catch(l){jp(t,l)}while(1);if(Ru(),Ys.current=s,P=i,le!==null?r=0:(Oe=null,De=0,r=ge),(ar&ur)!==0)zn(t,0);else if(r!==0){if(r===2&&(P|=64,t.hydrate&&(t.hydrate=!1,Du(t.containerInfo)),n=bd(t),n!==0&&(r=Vr(t,n))),r===1)throw e=xo,zn(t,0),Bn(t,n),Xe(t,Ne()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(E(345));case 2:Wt(t);break;case 3:if(Bn(t,n),(n&62914560)===n&&(r=qu+500-Ne(),10<r)){if(ai(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ze(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=vh(Wt.bind(null,t),r);break}Wt(t);break;case 4:if(Bn(t,n),(n&4186112)===n)break;for(r=t.eventTimes,i=-1;0<n;){var o=31-Ot(n);s=1<<o,o=r[o],o>i&&(i=o),n&=~s}if(n=i,n=Ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Pv(n/1960))-n,10<n){t.timeoutHandle=vh(Wt.bind(null,t),n);break}Wt(t);break;case 5:Wt(t);break;default:throw Error(E(329))}}return Xe(t,Ne()),t.callbackNode===e?Fp.bind(null,t):null}function Bn(t,e){for(e&=~Hu,e&=~ur,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function Ia(t){if((P&48)!==0)throw Error(E(327));if(Bt(),t===Oe&&(t.expiredLanes&De)!==0){var e=De,n=Vr(t,e);(ar&ur)!==0&&(e=ai(t,e),n=Vr(t,e))}else e=ai(t,0),n=Vr(t,e);if(t.tag!==0&&n===2&&(P|=64,t.hydrate&&(t.hydrate=!1,Du(t.containerInfo)),e=bd(t),e!==0&&(n=Vr(t,e))),n===1)throw n=xo,zn(t,0),Bn(t,e),Xe(t,Ne()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wt(t),Xe(t,Ne()),null}function Ov(){if(mt!==null){var t=mt;mt=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Xe(e,Ne())})}at()}function Vp(t,e){var n=P;P|=1;try{return t(e)}finally{P=n,P===0&&(cr(),at())}}function Up(t,e){var n=P;P&=-2,P|=8;try{return t(e)}finally{P=n,P===0&&(cr(),at())}}function as(t,e){ee(wa,an),an|=e,ar|=e}function Ku(){an=wa.current,G(wa)}function zn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pv(n)),le!==null)for(n=le.return;n!==null;){var r=n;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Us();break;case 3:Yn(),G(je),G(Ae),Lu();break;case 5:Ou(r);break;case 4:Yn();break;case 13:G(Z);break;case 19:G(Z);break;case 10:$u(r);break;case 23:case 24:Ku()}n=n.return}Oe=t,le=Ft(t.current,null),De=an=ar=e,ge=0,xo=null,Hu=ur=Oi=0}function jp(t,e){do{var n=le;try{if(Ru(),Gr.current=Xs,bs){for(var r=ne.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bs=!1}if(gi=0,pe=_e=ne=null,Qr=!1,zu.current=null,n===null||n.return===null){ge=1,xo=e,le=null;break}e:{var s=t,o=n.return,l=n,a=e;if(e=De,l.flags|=2048,l.firstEffect=l.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a;if((l.mode&2)===0){var h=l.alternate;h?(l.updateQueue=h.updateQueue,l.memoizedState=h.memoizedState,l.lanes=h.lanes):(l.updateQueue=null,l.memoizedState=null)}var m=(Z.current&1)!==0,p=o;do{var v;if(v=p.tag===13){var w=p.memoizedState;if(w!==null)v=w.dehydrated!==null;else{var C=p.memoizedProps;v=C.fallback===void 0?!1:C.unstable_avoidThisFallback!==!0?!0:!m}}if(v){var f=p.updateQueue;if(f===null){var c=new Set;c.add(u),p.updateQueue=c}else f.add(u);if((p.mode&2)===0){if(p.flags|=64,l.flags|=16384,l.flags&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var d=Nt(-1,1);d.tag=2,Dt(l,d)}l.lanes|=1;break e}a=void 0,l=e;var g=s.pingCache;if(g===null?(g=s.pingCache=new Dv,a=new Set,g.set(u,a)):(a=g.get(u),a===void 0&&(a=new Set,g.set(u,a))),!a.has(l)){a.add(l);var y=Bv.bind(null,s,u,l);u.then(y,y)}p.flags|=4096,p.lanes=e;break e}p=p.return}while(p!==null);a=Error((On(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}ge!==5&&(ge=2),a=Bu(a,l),p=o;do{switch(p.tag){case 3:s=a,p.flags|=4096,e&=-e,p.lanes|=e;var R=Op(p,s,e);_h(p,R);break e;case 1:s=a;var T=p.type,A=p.stateNode;if((p.flags&64)===0&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(it===null||!it.has(A)))){p.flags|=4096,e&=-e,p.lanes|=e;var F=Lp(p,s,e);_h(p,F);break e}}p=p.return}while(p!==null)}Hp(n)}catch(x){e=x,le===n&&n!==null&&(le=n=n.return);continue}break}while(1)}function Bp(){var t=Ys.current;return Ys.current=Xs,t===null?Xs:t}function Vr(t,e){var n=P;P|=16;var r=Bp();Oe===t&&De===e||zn(t,e);do try{Lv();break}catch(i){jp(t,i)}while(1);if(Ru(),P=n,Ys.current=r,le!==null)throw Error(E(261));return Oe=null,De=0,ge}function Lv(){for(;le!==null;)zp(le)}function Mv(){for(;le!==null&&!yv();)zp(le)}function zp(t){var e=Kp(t.alternate,t,an);t.memoizedProps=t.pendingProps,e===null?Hp(t):le=e,zu.current=null}function Hp(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&2048)===0){if(n=Iv(n,e,an),n!==null){le=n;return}if(n=e,n.tag!==24&&n.tag!==23||n.memoizedState===null||(an&1073741824)!==0||(n.mode&4)===0){for(var r=0,i=n.child;i!==null;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(n=Nv(e),n!==null){n.flags&=2047,le=n;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);ge===0&&(ge=5)}function Wt(t){var e=Xn();return ln(99,Fv.bind(null,t,e)),null}function Fv(t,e){do Bt();while(Xr!==null);if((P&48)!==0)throw Error(E(327));var n=t.finishedWork;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(E(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,l=t.expirationTimes;0<s;){var a=31-Ot(s),u=1<<a;i[a]=0,o[a]=-1,l[a]=-1,s&=~u}if(mt!==null&&(r&24)===0&&mt.has(t)&&mt.delete(t),t===Oe&&(le=Oe=null,De=0),1<n.flags?n.lastEffect!==null?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,r!==null){if(i=P,P|=32,zu.current=null,ml=vs,o=hh(),na(o)){if("selectionStart"in o)l={start:o.selectionStart,end:o.selectionEnd};else e:if(l=(l=o.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&u.rangeCount!==0){l=u.anchorNode,s=u.anchorOffset,a=u.focusNode,u=u.focusOffset;try{l.nodeType,a.nodeType}catch{l=null;break e}var h=0,m=-1,p=-1,v=0,w=0,C=o,f=null;t:for(;;){for(var c;C!==l||s!==0&&C.nodeType!==3||(m=h+s),C!==a||u!==0&&C.nodeType!==3||(p=h+u),C.nodeType===3&&(h+=C.nodeValue.length),(c=C.firstChild)!==null;)f=C,C=c;for(;;){if(C===o)break t;if(f===l&&++v===s&&(m=h),f===a&&++w===u&&(p=h),(c=C.nextSibling)!==null)break;C=f,f=C.parentNode}C=c}l=m===-1||p===-1?null:{start:m,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;gl={focusedElem:o,selectionRange:l},vs=!1,Zr=null,_s=!1,N=r;do try{Vv()}catch(x){if(N===null)throw Error(E(330));Rt(N,x),N=N.nextEffect}while(N!==null);Zr=null,N=r;do try{for(o=t;N!==null;){var d=N.flags;if(d&16&&ii(N.stateNode,""),d&128){var g=N.alternate;if(g!==null){var y=g.ref;y!==null&&(typeof y=="function"?y(null):y.current=null)}}switch(d&1038){case 2:Xh(N),N.flags&=-3;break;case 6:Xh(N),N.flags&=-3,Cl(N.alternate,N);break;case 1024:N.flags&=-1025;break;case 1028:N.flags&=-1025,Cl(N.alternate,N);break;case 4:Cl(N.alternate,N);break;case 8:l=N,Mp(o,l);var R=l.alternate;Gh(l),R!==null&&Gh(R)}N=N.nextEffect}}catch(x){if(N===null)throw Error(E(330));Rt(N,x),N=N.nextEffect}while(N!==null);if(y=gl,g=hh(),d=y.focusedElem,o=y.selectionRange,g!==d&&d&&d.ownerDocument&&ep(d.ownerDocument.documentElement,d)){for(o!==null&&na(d)&&(g=o.start,y=o.end,y===void 0&&(y=g),"selectionStart"in d?(d.selectionStart=g,d.selectionEnd=Math.min(y,d.value.length)):(y=(g=d.ownerDocument||document)&&g.defaultView||window,y.getSelection&&(y=y.getSelection(),l=d.textContent.length,R=Math.min(o.start,l),o=o.end===void 0?R:Math.min(o.end,l),!y.extend&&R>o&&(l=o,o=R,R=l),l=ch(d,R),s=ch(d,o),l&&s&&(y.rangeCount!==1||y.anchorNode!==l.node||y.anchorOffset!==l.offset||y.focusNode!==s.node||y.focusOffset!==s.offset)&&(g=g.createRange(),g.setStart(l.node,l.offset),y.removeAllRanges(),R>o?(y.addRange(g),y.extend(s.node,s.offset)):(g.setEnd(s.node,s.offset),y.addRange(g)))))),g=[],y=d;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<g.length;d++)y=g[d],y.element.scrollLeft=y.left,y.element.scrollTop=y.top}vs=!!ml,gl=ml=null,t.current=n,N=r;do try{for(d=t;N!==null;){var T=N.flags;if(T&36&&Rv(d,N.alternate,N),T&128){g=void 0;var A=N.ref;if(A!==null){var F=N.stateNode;switch(N.tag){case 5:g=F;break;default:g=F}typeof A=="function"?A(g):A.current=g}}N=N.nextEffect}}catch(x){if(N===null)throw Error(E(330));Rt(N,x),N=N.nextEffect}while(N!==null);N=null,wv(),P=i}else t.current=n;if(Mt)Mt=!1,Xr=t,Fr=e;else for(N=r;N!==null;)e=N.nextEffect,N.nextEffect=null,N.flags&8&&(T=N,T.sibling=null,T.stateNode=null),N=e;if(r=t.pendingLanes,r===0&&(it=null),r===1?t===_a?Yr++:(Yr=0,_a=t):Yr=0,n=n.stateNode,nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(xu,n,void 0,(n.current.flags&64)===64)}catch{}if(Xe(t,Ne()),Zs)throw Zs=!1,t=Ta,Ta=null,t;return(P&8)!==0||at(),null}function Vv(){for(;N!==null;){var t=N.alternate;_s||Zr===null||((N.flags&8)!==0?Xc(N,Zr)&&(_s=!0):N.tag===13&&$v(t,N)&&Xc(N,Zr)&&(_s=!0));var e=N.flags;(e&256)!==0&&Av(t,N),(e&512)===0||Mt||(Mt=!0,fi(97,function(){return Bt(),null})),N=N.nextEffect}}function Bt(){if(Fr!==90){var t=97<Fr?97:Fr;return Fr=90,ln(t,jv)}return!1}function Uv(t,e){Ca.push(e,t),Mt||(Mt=!0,fi(97,function(){return Bt(),null}))}function qp(t,e){ka.push(e,t),Mt||(Mt=!0,fi(97,function(){return Bt(),null}))}function jv(){if(Xr===null)return!1;var t=Xr;if(Xr=null,(P&48)!==0)throw Error(E(331));var e=P;P|=32;var n=ka;ka=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(a){if(s===null)throw Error(E(330));Rt(s,a)}}for(n=Ca,Ca=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var l=i.create;i.destroy=l()}catch(a){if(s===null)throw Error(E(330));Rt(s,a)}}for(l=t.current.firstEffect;l!==null;)t=l.nextEffect,l.nextEffect=null,l.flags&8&&(l.sibling=null,l.stateNode=null),l=t;return P=e,at(),!0}function Zh(t,e,n){e=Bu(n,e),e=Op(t,e,1),Dt(t,e),e=ze(),t=Ao(t,1),t!==null&&(To(t,1,e),Xe(t,e))}function Rt(t,e){if(t.tag===3)Zh(t,t,e);else for(var n=t.return;n!==null;){if(n.tag===3){Zh(n,t,e);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(it===null||!it.has(r))){t=Bu(e,t);var i=Lp(n,t,1);if(Dt(n,i),i=ze(),n=Ao(n,1),n!==null)To(n,1,i),Xe(n,i);else if(typeof r.componentDidCatch=="function"&&(it===null||!it.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}n=n.return}}function Bv(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ze(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(De&n)===n&&(ge===4||ge===3&&(De&62914560)===De&&500>Ne()-qu?zn(t,0):Hu|=n),Xe(t,e)}function zv(t,e){var n=t.stateNode;n!==null&&n.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Xn()===99?1:2:(ct===0&&(ct=ar),e=_n(62914560&~ct),e===0&&(e=4194304))),n=ze(),t=Ao(t,e),t!==null&&(To(t,e,n),Xe(t,n))}var Kp;Kp=function(t,e,n){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)tt=!0;else if((n&r)!==0)tt=(t.flags&16384)!==0;else{switch(tt=!1,e.tag){case 3:Vh(e),El();break;case 5:xh(e);break;case 1:Be(e.type)&&Ss(e);break;case 4:ca(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ee(js,i._currentValue),i._currentValue=r;break;case 13:if(e.memoizedState!==null)return(n&e.child.childLanes)!==0?Uh(t,e,n):(ee(Z,Z.current&1),e=dt(t,e,n),e!==null?e.sibling:null);ee(Z,Z.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&64)!==0){if(r)return qh(t,e,n);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ee(Z,Z.current),r)break;return null;case 23:case 24:return e.lanes=0,Sl(t,e,n)}return dt(t,e,n)}else tt=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Qn(e,Ae.current),Un(e,n),i=Fu(null,e,r,t,i,n),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(r)){var s=!0;Ss(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Pu(e);var o=r.getDerivedStateFromProps;typeof o=="function"&&Hs(e,r,o,t),i.updater=Do,e.stateNode=i,i._reactInternals=e,ua(e,r,t,n),e=pa(null,e,r,!0,s,n)}else e.tag=0,Fe(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=qv(i),t=Je(i,t),s){case 0:e=da(null,e,i,t,n);break e;case 1:e=Fh(null,e,i,t,n);break e;case 11:e=Lh(null,e,i,t,n);break e;case 14:e=Mh(null,e,i,Je(i.type,t),r,n);break e}throw Error(E(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),da(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),Fh(t,e,r,i,n);case 3:if(Vh(e),r=e.updateQueue,t===null||r===null)throw Error(E(282));if(r=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,gp(t,e),di(e,r,null,n),r=e.memoizedState.element,r===i)El(),e=dt(t,e,n);else{if(i=e.stateNode,(s=i.hydrate)&&(Ct=Vn(e.stateNode.containerInfo.firstChild),ft=e,s=ot=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],jn.push(s);for(n=Ep(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|1024,n=n.sibling}else Fe(t,e,r,n),El();e=e.child}return e;case 5:return xh(e),t===null&&ha(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,sa(r,i)?o=null:s!==null&&sa(r,s)&&(e.flags|=16),Ap(t,e),Fe(t,e,o,n),e.child;case 6:return t===null&&ha(e),null;case 13:return Uh(t,e,n);case 4:return ca(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qs(e,null,r,n):Fe(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),Lh(t,e,r,i,n);case 7:return Fe(t,e,e.pendingProps,n),e.child;case 8:return Fe(t,e,e.pendingProps.children,n),e.child;case 12:return Fe(t,e,e.pendingProps.children,n),e.child;case 10:e:{r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var l=e.type._context;if(ee(js,l._currentValue),l._currentValue=s,o!==null)if(l=o.value,s=be(l,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(l,s):1073741823)|0,s===0){if(o.children===i.children&&!je.current){e=dt(t,e,n);break e}}else for(l=e.child,l!==null&&(l.return=e);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var u=a.firstContext;u!==null;){if(u.context===r&&(u.observedBits&s)!==0){l.tag===1&&(u=Nt(-1,n&-n),u.tag=2,Dt(l,u)),l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),mp(l.return,n),a.lanes|=n;break}u=u.next}}else o=l.tag===10&&l.type===e.type?null:l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Fe(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,r=s.children,Un(e,n),i=Qe(i,s.unstable_observedBits),r=r(i),e.flags|=1,Fe(t,e,r,n),e.child;case 14:return i=e.type,s=Je(i,e.pendingProps),s=Je(i.type,s),Mh(t,e,i,s,r,n);case 15:return xp(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Je(r,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Be(r)?(t=!0,Ss(e)):t=!1,Un(e,n),vp(e,r,i),ua(e,r,i,n),pa(null,e,r,!0,t,n);case 19:return qh(t,e,n);case 23:return Sl(t,e,n);case 24:return Sl(t,e,n)}throw Error(E(156,e.tag))};function Hv(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function We(t,e,n,r){return new Hv(t,e,n,r)}function bu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qv(t){if(typeof t=="function")return bu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wo)return 11;if(t===Eo)return 14}return 2}function Ft(t,e){var n=t.alternate;return n===null?(n=We(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Is(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bu(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Et:return Hn(n.children,i,s,e);case Sd:o=8,i|=16;break;case au:o=8,i|=1;break;case Br:return t=We(12,n,e,i|8),t.elementType=Br,t.type=Br,t.lanes=s,t;case zr:return t=We(13,n,e,i),t.type=zr,t.elementType=zr,t.lanes=s,t;case Rs:return t=We(19,n,e,i),t.elementType=Rs,t.lanes=s,t;case pu:return Wu(n,i,s,e);case Bl:return t=We(24,n,e,i),t.elementType=Bl,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uu:o=10;break e;case cu:o=9;break e;case wo:o=11;break e;case Eo:o=14;break e;case hu:o=16,r=null;break e;case fu:o=22;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=We(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hn(t,e,n,r){return t=We(7,t,r,e),t.lanes=n,t}function Wu(t,e,n,r){return t=We(23,t,r,e),t.elementType=pu,t.lanes=n,t}function kl(t,e,n){return t=We(6,t,null,e),t.lanes=n,t}function _l(t,e,n){return e=We(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Kv(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=al(0),this.expirationTimes=al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=al(0),this.mutableSourceEagerHydrationData=null}function bv(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qt,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Js(t,e,n,r){var i=e.current,s=ze(),o=xt(i);e:if(n){n=n._reactInternals;t:{if(vn(n)!==n||n.tag!==1)throw Error(E(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Be(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(E(171))}if(n.tag===1){var a=n.type;if(Be(a)){n=ap(n,a,l);break e}}n=l}else n=Lt;return e.context===null?e.context=n:e.pendingContext=n,e=Nt(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Dt(i,e),At(i,o,s),o}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gu(t,e){Jh(t,e),(t=t.alternate)&&Jh(t,e)}function Wv(){return null}function Qu(t,e,n){var r=n!=null&&n.hydrationOptions!=null&&n.hydrationOptions.mutableSources||null;if(n=new Kv(t,e,n!=null&&n.hydrate===!0),e=We(3,null,null,e===2?7:e===1?3:0),n.current=e,e.stateNode=n,Pu(e),t[lr]=n.current,rp(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var i=e._getVersion;i=i(e._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}Qu.prototype.render=function(t){Js(t,this._internalRoot,null,null)};Qu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Js(null,t,null,function(){e[lr]=null})};function Li(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Gv(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Qu(t,0,e?{hydrate:!0}:void 0)}function Ro(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var l=i;i=function(){var u=Il(o);l.call(u)}}Js(e,o,t,i)}else{if(s=n._reactRootContainer=Gv(n,r),o=s._internalRoot,typeof i=="function"){var a=i;i=function(){var u=Il(o);a.call(u)}}Up(function(){Js(e,o,t,i)})}return Il(o)}Md=function(t){if(t.tag===13){var e=ze();At(t,4,e),Gu(t,4)}};wu=function(t){if(t.tag===13){var e=ze();At(t,67108864,e),Gu(t,67108864)}};Fd=function(t){if(t.tag===13){var e=ze(),n=xt(t);At(t,n,e),Gu(t,n)}};Vd=function(t,e){return e()};Yl=function(t,e,n){switch(e){case"input":if(Hl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Io(r);if(!i)throw Error(E(90));Cd(r),Hl(r,i)}}}break;case"textarea":_d(t,n);break;case"select":e=n.value,e!=null&&Ln(t,!!n.multiple,e,!1)}};gu=Vp;$d=function(t,e,n,r,i){var s=P;P|=4;try{return ln(98,t.bind(null,e,n,r,i))}finally{P=s,P===0&&(cr(),at())}};yu=function(){(P&49)===0&&(Ov(),Bt())};Pd=function(t,e){var n=P;P|=2;try{return t(e)}finally{P=n,P===0&&(cr(),at())}};function bp(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Li(e))throw Error(E(200));return bv(t,e,null,n)}var Qv={Events:[$i,xn,Io,Ad,Rd,Bt,{current:!1}]},$r={findFiberByHostInstance:Yt,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Xv={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ld(t),t===null?null:t.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||Wv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!us.isDisabled&&us.supportsFiber)try{xu=us.inject(Xv),nn=us}catch{}}Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qv;Ye.createPortal=bp;Ye.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):Error(E(268,Object.keys(t)));return t=Ld(e),t=t===null?null:t.stateNode,t};Ye.flushSync=function(t,e){var n=P;if((n&48)!==0)return t(e);P|=1;try{if(t)return ln(99,t.bind(null,e))}finally{P=n,at()}};Ye.hydrate=function(t,e,n){if(!Li(e))throw Error(E(200));return Ro(null,t,e,!0,n)};Ye.render=function(t,e,n){if(!Li(e))throw Error(E(200));return Ro(null,t,e,!1,n)};Ye.unmountComponentAtNode=function(t){if(!Li(t))throw Error(E(40));return t._reactRootContainer?(Up(function(){Ro(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1};Ye.unstable_batchedUpdates=Vp;Ye.unstable_createPortal=function(t,e){return bp(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Ye.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Li(n))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Ro(t,e,n,!1,r)};Ye.version="17.0.2";function Wp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wp)}catch(t){console.error(t)}}Wp(),yd.exports=Ye;var lT=yd.exports,Yv={exports:{}},Mi={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv=yo.exports,Gp=60103;Mi.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var ef=Symbol.for;Gp=ef("react.element"),Mi.Fragment=ef("react.fragment")}var Jv=Zv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e0=Object.prototype.hasOwnProperty,t0={key:!0,ref:!0,__self:!0,__source:!0};function Qp(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)e0.call(e,r)&&!t0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Gp,type:t,key:s,ref:o,props:i,_owner:Jv.current}}Mi.jsx=Qp;Mi.jsxs=Qp;Yv.exports=Mi;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n0=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},r0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0,h=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|u>>6,v=u&63;a||(v=64,o||(p=64)),r.push(n[h],n[m],n[p],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xp(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n0(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||u==null||m==null)throw Error();const p=s<<2|l>>4;if(r.push(p),u!==64){const v=l<<4&240|u>>2;if(r.push(v),m!==64){const w=u<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},i0=function(t){const e=Xp(t);return r0.encodeByteArray(e,!0)},Yp=function(t){return i0(t).replace(/\./g,"")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function o0(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($o())}function l0(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u0(){return $o().indexOf("Electron/")>=0}function c0(){const t=$o();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function h0(){return $o().indexOf("MSAppHost/")>=0}function f0(){return typeof indexedDB=="object"}function d0(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0="FirebaseError";class Po extends Error{constructor(e,n,r){super(n);this.code=e,this.customData=r,this.name=p0,Object.setPrototypeOf(this,Po.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zp.prototype.create)}}class Zp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?m0(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Po(i,l,r)}}function m0(t,e){return t.replace(g0,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const g0=/\{\$([^}]+)}/g;function Na(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(tf(s)&&tf(o)){if(!Na(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function tf(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t){return t&&t._delegate?t._delegate:t}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t,e){return new Promise((n,r)=>{t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var s;r(`${e}: ${(s=i.target.error)===null||s===void 0?void 0:s.message}`)}})}class nf{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,n){return new Jp(this._db.transaction.call(this._db,e,n))}createObjectStore(e,n){return new em(this._db.createObjectStore(e,n))}close(){this._db.close()}}class Jp{constructor(e){this._transaction=e,this.complete=new Promise((n,r)=>{this._transaction.oncomplete=function(){n()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new em(this._transaction.objectStore(e))}}class em{constructor(e){this._store=e}index(e){return new rf(this._store.index(e))}createIndex(e,n,r){return new rf(this._store.createIndex(e,n,r))}get(e){const n=this._store.get(e);return Ur(n,"Error reading from IndexedDB")}put(e,n){const r=this._store.put(e,n);return Ur(r,"Error writing to IndexedDB")}delete(e){const n=this._store.delete(e);return Ur(n,"Error deleting from IndexedDB")}clear(){const e=this._store.clear();return Ur(e,"Error clearing IndexedDB object store")}}class rf{constructor(e){this._index=e}get(e){const n=this._index.get(e);return Ur(n,"Error reading from IndexedDB")}}function v0(t,e,n){return new Promise((r,i)=>{try{const s=indexedDB.open(t,e);s.onsuccess=o=>{r(new nf(o.target.result))},s.onerror=o=>{var l;i(`Error opening indexedDB: ${(l=o.target.error)===null||l===void 0?void 0:l.message}`)},s.onupgradeneeded=o=>{n(new nf(s.result),o.oldVersion,o.newVersion,new Jp(s.transaction))}}catch(s){i(`Error opening indexedDB: ${s.message}`)}})}class yi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new s0;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(S0(e))try{this.getOrInitializeService({instanceIdentifier:Gt})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gt){return this.instances.has(e)}getOptions(e=Gt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E0(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gt){return this.component?this.component.multipleInstances?e:Gt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E0(t){return t===Gt?void 0:t}function S0(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new w0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(q||(q={}));const C0={debug:q.DEBUG,verbose:q.VERBOSE,info:q.INFO,warn:q.WARN,error:q.ERROR,silent:q.SILENT},k0=q.INFO,_0={[q.DEBUG]:"log",[q.VERBOSE]:"log",[q.INFO]:"info",[q.WARN]:"warn",[q.ERROR]:"error"},I0=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_0[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tm{constructor(e){this.name=e,this._logLevel=k0,this._logHandler=I0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,q.DEBUG,...e),this._logHandler(this,q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,q.VERBOSE,...e),this._logHandler(this,q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,q.INFO,...e),this._logHandler(this,q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,q.WARN,...e),this._logHandler(this,q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,q.ERROR,...e),this._logHandler(this,q.ERROR,...e)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(D0(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function D0(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Da="@firebase/app",sf="0.7.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new tm("@firebase/app"),x0="@firebase/app-compat",A0="@firebase/analytics-compat",R0="@firebase/analytics",$0="@firebase/app-check-compat",P0="@firebase/app-check",O0="@firebase/auth",L0="@firebase/auth-compat",M0="@firebase/database",F0="@firebase/database-compat",V0="@firebase/functions",U0="@firebase/functions-compat",j0="@firebase/installations",B0="@firebase/installations-compat",z0="@firebase/messaging",H0="@firebase/messaging-compat",q0="@firebase/performance",K0="@firebase/performance-compat",b0="@firebase/remote-config",W0="@firebase/remote-config-compat",G0="@firebase/storage",Q0="@firebase/storage-compat",X0="@firebase/firestore",Y0="@firebase/firestore-compat",Z0="firebase",J0="9.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",e1={[Da]:"fire-core",[x0]:"fire-core-compat",[R0]:"fire-analytics",[A0]:"fire-analytics-compat",[P0]:"fire-app-check",[$0]:"fire-app-check-compat",[O0]:"fire-auth",[L0]:"fire-auth-compat",[M0]:"fire-rtdb",[F0]:"fire-rtdb-compat",[V0]:"fire-fn",[U0]:"fire-fn-compat",[j0]:"fire-iid",[B0]:"fire-iid-compat",[z0]:"fire-fcm",[H0]:"fire-fcm-compat",[q0]:"fire-perf",[K0]:"fire-perf-compat",[b0]:"fire-rc",[W0]:"fire-rc-compat",[G0]:"fire-gcs",[Q0]:"fire-gcs-compat",[X0]:"fire-fst",[Y0]:"fire-fst-compat","fire-js":"fire-js",[Z0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=new Map,xa=new Map;function t1(t,e){try{t.container.addComponent(e)}catch(n){Xu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function to(t){const e=t.name;if(xa.has(e))return Xu.debug(`There were multiple attempts to register component ${e}.`),!1;xa.set(e,t);for(const n of eo.values())t1(n,t);return!0}function n1(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["storage-delete"]:"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."},un=new Zp("app","Firebase",r1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new yi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=J0;function aT(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw un.create("bad-app-name",{appName:String(r)});const i=eo.get(r);if(i){if(Na(t,i.options)&&Na(n,i.config))return i;throw un.create("duplicate-app",{appName:r})}const s=new T0(r);for(const l of xa.values())s.addComponent(l);const o=new i1(t,n,s);return eo.set(r,o),o}function o1(t=nm){const e=eo.get(t);if(!e)throw un.create("no-app",{appName:t});return e}function qn(t,e,n){var r;let i=(r=e1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xu.warn(l.join(" "));return}to(new yi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="firebase-heartbeat-database",a1=1,vi="firebase-heartbeat-store";let Nl=null;function rm(){return Nl||(Nl=v0(l1,a1,(t,e)=>{switch(e){case 0:t.createObjectStore(vi)}}).catch(t=>{throw un.create("storage-open",{originalErrorMessage:t.message})})),Nl}async function u1(t){try{return(await rm()).transaction(vi).objectStore(vi).get(im(t))}catch(e){throw un.create("storage-get",{originalErrorMessage:e.message})}}async function of(t,e){try{const r=(await rm()).transaction(vi,"readwrite");return await r.objectStore(vi).put(e,im(t)),r.complete}catch(n){throw un.create("storage-set",{originalErrorMessage:n.message})}}function im(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,h1=30*24*60*60*1e3;class f1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new p1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=lf();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=h1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=lf(),{heartbeatsToSend:n,unsentEntries:r}=d1(this._heartbeatsCache.heartbeats),i=Yp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function lf(){return new Date().toISOString().substring(0,10)}function d1(t,e=c1){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),af(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),af(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class p1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return f0()?d0().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await u1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return of(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return of(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function af(t){return Yp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){to(new yi("platform-logger",e=>new N0(e),"PRIVATE")),to(new yi("heartbeat",e=>new f1(e),"PRIVATE")),qn(Da,sf,t),qn(Da,sf,"esm2017"),qn("fire-js","")}m1("");var g1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},I,Yu=Yu||{},L=g1||self;function no(){}function Aa(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Fi(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function y1(t){return Object.prototype.hasOwnProperty.call(t,Dl)&&t[Dl]||(t[Dl]=++v1)}var Dl="closure_uid_"+(1e9*Math.random()>>>0),v1=0;function w1(t,e,n){return t.call.apply(t.bind,arguments)}function E1(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function ye(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ye=w1:ye=E1,ye.apply(null,arguments)}function cs(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Ce(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function zt(){this.s=this.s,this.o=this.o}var S1=0,T1={};zt.prototype.s=!1;zt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),S1!=0)){var t=y1(this);delete T1[t]}};zt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sm=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},om=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function C1(t){e:{var e=pw;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function uf(t){return Array.prototype.concat.apply([],arguments)}function Zu(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ro(t){return/^[\s\xa0]*$/.test(t)}var cf=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Re(t,e){return t.indexOf(e)!=-1}function xl(t,e){return t<e?-1:t>e?1:0}var $e;e:{var hf=L.navigator;if(hf){var ff=hf.userAgent;if(ff){$e=ff;break e}}$e=""}function Ju(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function lm(t){const e={};for(const n in t)e[n]=t[n];return e}var df="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function am(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<df.length;s++)n=df[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ec(t){return ec[" "](t),t}ec[" "]=no;function k1(t){var e=N1;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var _1=Re($e,"Opera"),Zn=Re($e,"Trident")||Re($e,"MSIE"),um=Re($e,"Edge"),Ra=um||Zn,cm=Re($e,"Gecko")&&!(Re($e.toLowerCase(),"webkit")&&!Re($e,"Edge"))&&!(Re($e,"Trident")||Re($e,"MSIE"))&&!Re($e,"Edge"),I1=Re($e.toLowerCase(),"webkit")&&!Re($e,"Edge");function hm(){var t=L.document;return t?t.documentMode:void 0}var io;e:{var Al="",Rl=function(){var t=$e;if(cm)return/rv:([^\);]+)(\)|;)/.exec(t);if(um)return/Edge\/([\d\.]+)/.exec(t);if(Zn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(I1)return/WebKit\/(\S+)/.exec(t);if(_1)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Rl&&(Al=Rl?Rl[1]:""),Zn){var $l=hm();if($l!=null&&$l>parseFloat(Al)){io=String($l);break e}}io=Al}var N1={};function D1(){return k1(function(){let t=0;const e=cf(String(io)).split("."),n=cf("9").split("."),r=Math.max(e.length,n.length);for(let o=0;t==0&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;t=xl(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||xl(i[2].length==0,s[2].length==0)||xl(i[2],s[2]),i=i[3],s=s[3]}while(t==0)}return 0<=t})}var $a;if(L.document&&Zn){var pf=hm();$a=pf||parseInt(io,10)||void 0}else $a=void 0;var x1=$a,A1=function(){if(!L.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{L.addEventListener("test",no,e),L.removeEventListener("test",no,e)}catch{}return t}();function xe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};function wi(t,e){if(xe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(cm){e:{try{ec(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:R1[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wi.Z.h.call(this)}}Ce(wi,xe);var R1={2:"touch",3:"pen",4:"mouse"};wi.prototype.h=function(){wi.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vi="closure_listenable_"+(1e6*Math.random()|0),$1=0;function P1(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++$1,this.ca=this.fa=!1}function Oo(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Lo(t){this.src=t,this.g={},this.h=0}Lo.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=Oa(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):(e=new P1(e,this.src,s,!!r,i),e.fa=n,t.push(e)),e};function Pa(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=sm(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Oo(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Oa(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}var tc="closure_lm_"+(1e6*Math.random()|0),Pl={};function fm(t,e,n,r,i){if(r&&r.once)return pm(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)fm(t,e[s],n,r,i);return null}return n=ic(n),t&&t[Vi]?t.N(e,n,Fi(r)?!!r.capture:!!r,i):dm(t,e,n,!1,r,i)}function dm(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Fi(i)?!!i.capture:!!i,l=rc(t);if(l||(t[tc]=l=new Lo(t)),n=l.add(e,n,r,o,s),n.proxy)return n;if(r=O1(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)A1||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(gm(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function O1(){function t(n){return e.call(t.src,t.listener,n)}var e=L1;return t}function pm(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)pm(t,e[s],n,r,i);return null}return n=ic(n),t&&t[Vi]?t.O(e,n,Fi(r)?!!r.capture:!!r,i):dm(t,e,n,!0,r,i)}function mm(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)mm(t,e[s],n,r,i);else r=Fi(r)?!!r.capture:!!r,n=ic(n),t&&t[Vi]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=Oa(s,n,r,i),-1<n&&(Oo(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=rc(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Oa(e,n,r,i)),(n=-1<t?e[t]:null)&&nc(n))}function nc(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[Vi])Pa(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gm(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=rc(e))?(Pa(n,t),n.h==0&&(n.src=null,e[tc]=null)):Oo(t)}}}function gm(t){return t in Pl?Pl[t]:Pl[t]="on"+t}function L1(t,e){if(t.ca)t=!0;else{e=new wi(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&nc(t),t=n.call(r,e)}return t}function rc(t){return t=t[tc],t instanceof Lo?t:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function ic(t){return typeof t=="function"?t:(t[Ol]||(t[Ol]=function(e){return t.handleEvent(e)}),t[Ol])}function he(){zt.call(this),this.i=new Lo(this),this.P=this,this.I=null}Ce(he,zt);he.prototype[Vi]=!0;he.prototype.removeEventListener=function(t,e,n,r){mm(this,t,e,n,r)};function ve(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new xe(e,t);else if(e instanceof xe)e.target=e.target||t;else{var i=e;e=new xe(r,t),am(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=hs(o,r,!0,e)&&i}if(o=e.g=t,i=hs(o,r,!0,e)&&i,i=hs(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=hs(o,r,!1,e)&&i}he.prototype.M=function(){if(he.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Oo(n[r]);delete t.g[e],t.h--}}this.I=null};he.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};he.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function hs(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var l=o.listener,a=o.ia||o.src;o.fa&&Pa(t.i,o),i=l.call(a,r)!==!1&&i}}return i&&!r.defaultPrevented}var sc=L.JSON.stringify;function M1(){var t=vm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class F1{constructor(){this.h=this.g=null}add(e,n){const r=ym.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ym=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new V1,t=>t.reset());class V1{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function U1(t){L.setTimeout(()=>{throw t},0)}function oc(t,e){La||j1(),Ma||(La(),Ma=!0),vm.add(t,e)}var La;function j1(){var t=L.Promise.resolve(void 0);La=function(){t.then(B1)}}var Ma=!1,vm=new F1;function B1(){for(var t;t=M1();){try{t.h.call(t.g)}catch(n){U1(n)}var e=ym;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ma=!1}function Mo(t,e){he.call(this),this.h=t||1,this.g=e||L,this.j=ye(this.kb,this),this.l=Date.now()}Ce(Mo,he);I=Mo.prototype;I.da=!1;I.S=null;I.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ve(this,"tick"),this.da&&(lc(this),this.start()))}};I.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function lc(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}I.M=function(){Mo.Z.M.call(this),lc(this),delete this.g};function ac(t,e,n){if(typeof t=="function")n&&(t=ye(t,n));else if(t&&typeof t.handleEvent=="function")t=ye(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:L.setTimeout(t,e||0)}function wm(t){t.g=ac(()=>{t.g=null,t.i&&(t.i=!1,wm(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class z1 extends zt{constructor(e,n){super();this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wm(this)}M(){super.M(),this.g&&(L.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ei(t){zt.call(this),this.h=t,this.g={}}Ce(Ei,zt);var mf=[];function Em(t,e,n,r){Array.isArray(n)||(n&&(mf[0]=n.toString()),n=mf);for(var i=0;i<n.length;i++){var s=fm(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function Sm(t){Ju(t.g,function(e,n){this.g.hasOwnProperty(n)&&nc(e)},t),t.g={}}Ei.prototype.M=function(){Ei.Z.M.call(this),Sm(this)};Ei.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Fo(){this.g=!0}Fo.prototype.Aa=function(){this.g=!1};function H1(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",l=s.split("&"),a=0;a<l.length;a++){var u=l[a].split("=");if(1<u.length){var h=u[0];u=u[1];var m=h.split("_");o=2<=m.length&&m[1]=="type"?o+(h+"="+u+"&"):o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function q1(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function $n(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+b1(t,n)+(r?" "+r:"")})}function K1(t,e){t.info(function(){return"TIMEOUT: "+e})}Fo.prototype.info=function(){};function b1(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return sc(n)}catch{return e}}var En={},gf=null;function Vo(){return gf=gf||new he}En.Ma="serverreachability";function Tm(t){xe.call(this,En.Ma,t)}Ce(Tm,xe);function Si(t){const e=Vo();ve(e,new Tm(e,t))}En.STAT_EVENT="statevent";function Cm(t,e){xe.call(this,En.STAT_EVENT,t),this.stat=e}Ce(Cm,xe);function Pe(t){const e=Vo();ve(e,new Cm(e,t))}En.Na="timingevent";function km(t,e){xe.call(this,En.Na,t),this.size=e}Ce(km,xe);function Ui(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return L.setTimeout(function(){t()},e)}var Uo={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},_m={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function uc(){}uc.prototype.h=null;function yf(t){return t.h||(t.h=t.i())}function Im(){}var ji={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cc(){xe.call(this,"d")}Ce(cc,xe);function hc(){xe.call(this,"c")}Ce(hc,xe);var Fa;function jo(){}Ce(jo,uc);jo.prototype.g=function(){return new XMLHttpRequest};jo.prototype.i=function(){return{}};Fa=new jo;function Bi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ei(this),this.P=W1,t=Ra?125:void 0,this.W=new Mo(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Nm}function Nm(){this.i=null,this.g="",this.h=!1}var W1=45e3,Va={},so={};I=Bi.prototype;I.setTimeout=function(t){this.P=t};function Ua(t,e,n){t.K=1,t.v=zo(yt(e)),t.s=n,t.U=!0,Dm(t,null)}function Dm(t,e){t.F=Date.now(),zi(t),t.A=yt(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Lm(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Nm,t.g=tg(t.l,n?e:null,!t.s),0<t.O&&(t.L=new z1(ye(t.Ia,t,t.g),t.O)),Em(t.V,t.g,"readystatechange",t.gb),e=t.H?lm(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Si(1),H1(t.j,t.u,t.A,t.m,t.X,t.s)}I.gb=function(t){t=t.target;const e=this.L;e&&pt(t)==3?e.l():this.Ia(t)};I.Ia=function(t){try{if(t==this.g)e:{const h=pt(this.g);var e=this.g.Da();const m=this.g.ba();if(!(3>h)&&(h!=3||Ra||this.g&&(this.h.h||this.g.ga()||Sf(this.g)))){this.I||h!=4||e==7||(e==8||0>=m?Si(3):Si(2)),Bo(this);var n=this.g.ba();this.N=n;t:if(xm(this)){var r=Sf(this.g);t="";var i=r.length,s=pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder=="undefined"){en(this),Jr(this);var o="";break t}this.h.i=new L.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=n==200,q1(this.j,this.u,this.A,this.m,this.X,h,n),this.i){if(this.$&&!this.J){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ro(l)){var u=l;break t}}u=null}if(n=u)$n(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ja(this,n);else{this.i=!1,this.o=3,Pe(12),en(this),Jr(this);break e}}this.U?(Am(this,h,o),Ra&&this.i&&h==3&&(Em(this.V,this.W,"tick",this.fb),this.W.start())):($n(this.j,this.m,o,null),ja(this,o)),h==4&&en(this),this.i&&!this.I&&(h==4?Ym(this.l,this):(this.i=!1,zi(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Pe(12)):(this.o=0,Pe(13)),en(this),Jr(this)}}}catch{}finally{}};function xm(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Am(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=G1(t,n),i==so){e==4&&(t.o=4,Pe(14),r=!1),$n(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Va){t.o=4,Pe(15),$n(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else $n(t.j,t.m,i,null),ja(t,i);xm(t)&&i!=so&&i!=Va&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pe(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ec(e),e.L=!0,Pe(11))):($n(t.j,t.m,n,"[Invalid Chunked Response]"),en(t),Jr(t))}I.fb=function(){if(this.g){var t=pt(this.g),e=this.g.ga();this.C<e.length&&(Bo(this),Am(this,t,e),this.i&&t!=4&&zi(this))}};function G1(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?so:(n=Number(e.substring(n,r)),isNaN(n)?Va:(r+=1,r+n>e.length?so:(e=e.substr(r,n),t.C=r+n,e)))}I.cancel=function(){this.I=!0,en(this)};function zi(t){t.Y=Date.now()+t.P,Rm(t,t.P)}function Rm(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Ui(ye(t.eb,t),e)}function Bo(t){t.B&&(L.clearTimeout(t.B),t.B=null)}I.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(K1(this.j,this.A),this.K!=2&&(Si(3),Pe(17)),en(this),this.o=2,Jr(this)):Rm(this,this.Y-t)};function Jr(t){t.l.G==0||t.I||Ym(t.l,t)}function en(t){Bo(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,lc(t.W),Sm(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function ja(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Ba(n.i,t))){if(n.I=t.N,!t.J&&Ba(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0)e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)uo(n),Ko(n);else break e;wc(n),Pe(18)}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=Ui(ye(n.ab,n),6e3));if(1>=Vm(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else tn(n,11)}else if((t.J||n.g==t)&&uo(n),!ro(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.U=u[0],u=u[1],n.G==2)if(u[0]=="c"){n.J=u[1],n.la=u[2];const h=u[3];h!=null&&(n.ma=h,n.h.info("VER="+n.ma));const m=u[4];m!=null&&(n.za=m,n.h.info("SVER="+n.za));const p=u[5];p!=null&&typeof p=="number"&&0<p&&(r=1.5*p,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const v=t.g;if(v){const w=v.g?v.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(w){var s=r.i;!s.g&&(Re(w,"spdy")||Re(w,"quic")||Re(w,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(pc(s,s.h),s.h=null))}if(r.D){const C=v.g?v.g.getResponseHeader("X-HTTP-Session-Id"):null;C&&(r.sa=C,Q(r.F,r.D,C))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var o=t;if(r.oa=eg(r,r.H?r.la:null,r.W),o.J){Um(r.i,o);var l=o,a=r.K;a&&l.setTimeout(a),l.B&&(Bo(l),zi(l)),r.g=o}else Qm(r);0<n.l.length&&bo(n)}else u[0]!="stop"&&u[0]!="close"||tn(n,7);else n.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?tn(n,7):vc(n):u[0]!="noop"&&n.j&&n.j.wa(u),n.A=0)}}Si(4)}catch{}}function Q1(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(Aa(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fc(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Aa(t)||typeof t=="string")om(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(Aa(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Q1(t),i=r.length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function hr(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof hr)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}I=hr.prototype;I.R=function(){dc(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};I.T=function(){return dc(this),this.g.concat()};function dc(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];cn(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],cn(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}I.get=function(t,e){return cn(this.h,t)?this.h[t]:e};I.set=function(t,e){cn(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};I.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};function cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var $m=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function X1(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function hn(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof hn){this.g=e!==void 0?e:t.g,oo(this,t.j),this.s=t.s,lo(this,t.i),ao(this,t.m),this.l=t.l,e=t.h;var n=new Ti;n.i=e.i,e.g&&(n.g=new hr(e.g),n.h=e.h),vf(this,n),this.o=t.o}else t&&(n=String(t).match($m))?(this.g=!!e,oo(this,n[1]||"",!0),this.s=ei(n[2]||""),lo(this,n[3]||"",!0),ao(this,n[4]),this.l=ei(n[5]||"",!0),vf(this,n[6]||"",!0),this.o=ei(n[7]||"")):(this.g=!!e,this.h=new Ti(null,this.g))}hn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(jr(e,wf,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(jr(e,wf,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(jr(n,n.charAt(0)=="/"?tw:ew,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",jr(n,rw)),t.join("")};function yt(t){return new hn(t)}function oo(t,e,n){t.j=n?ei(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function lo(t,e,n){t.i=n?ei(e,!0):e}function ao(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function vf(t,e,n){e instanceof Ti?(t.h=e,iw(t.h,t.g)):(n||(e=jr(e,nw)),t.h=new Ti(e,t.g))}function Q(t,e,n){t.h.set(e,n)}function zo(t){return Q(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Y1(t){return t instanceof hn?yt(t):new hn(t,void 0)}function Z1(t,e,n,r){var i=new hn(null,void 0);return t&&oo(i,t),e&&lo(i,e),n&&ao(i,n),r&&(i.l=r),i}function ei(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function jr(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,J1),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function J1(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wf=/[#\/\?@]/g,ew=/[#\?:]/g,tw=/[#\?]/g,nw=/[#\?@]/g,rw=/#/g;function Ti(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ht(t){t.g||(t.g=new hr,t.h=0,t.i&&X1(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}I=Ti.prototype;I.add=function(t,e){Ht(this),this.i=null,t=fr(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Pm(t,e){Ht(t),e=fr(t,e),cn(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,cn(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&dc(t)))}function Om(t,e){return Ht(t),e=fr(t,e),cn(t.g.h,e)}I.forEach=function(t,e){Ht(this),this.g.forEach(function(n,r){om(n,function(i){t.call(e,i,r,this)},this)},this)};I.T=function(){Ht(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n};I.R=function(t){Ht(this);var e=[];if(typeof t=="string")Om(this,t)&&(e=uf(e,this.g.get(fr(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=uf(e,t[n])}return e};I.set=function(t,e){return Ht(this),this.i=null,t=fr(this,t),Om(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};I.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function Lm(t,e,n){Pm(t,e),0<n.length&&(t.i=null,t.g.set(fr(t,e),Zu(n)),t.h+=n.length)}I.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;r[s]!==""&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};function fr(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iw(t,e){e&&!t.j&&(Ht(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Pm(this,r),Lm(this,i,n))},t)),t.j=e}var sw=class{constructor(t,e){this.h=t,this.g=e}};function Mm(t){this.l=t||ow,L.PerformanceNavigationTiming?(t=L.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(L.g&&L.g.Ea&&L.g.Ea()&&L.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ow=10;function Fm(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Vm(t){return t.h?1:t.g?t.g.size:0}function Ba(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function pc(t,e){t.g?t.g.add(e):t.h=e}function Um(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Mm.prototype.cancel=function(){if(this.i=jm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jm(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Zu(t.i)}function mc(){}mc.prototype.stringify=function(t){return L.JSON.stringify(t,void 0)};mc.prototype.parse=function(t){return L.JSON.parse(t,void 0)};function lw(){this.g=new mc}function aw(t,e,n){const r=n||"";try{fc(t,function(i,s){let o=i;Fi(i)&&(o=sc(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uw(t,e){const n=new Fo;if(L.Image){const r=new Image;r.onload=cs(fs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=cs(fs,n,r,"TestLoadImage: error",!1,e),r.onabort=cs(fs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=cs(fs,n,r,"TestLoadImage: timeout",!1,e),L.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function fs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Hi(t){this.l=t.$b||null,this.j=t.ib||!1}Ce(Hi,uc);Hi.prototype.g=function(){return new Ho(this.l,this.j)};Hi.prototype.i=function(t){return function(){return t}}({});function Ho(t,e){he.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=gc,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ce(Ho,he);var gc=0;I=Ho.prototype;I.open=function(t,e){if(this.readyState!=gc)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ci(this)};I.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||L).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};I.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qi(this)),this.readyState=gc};I.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof L.ReadableStream!="undefined"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bm(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function Bm(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}I.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?qi(this):Ci(this),this.readyState==3&&Bm(this)}};I.Ua=function(t){this.g&&(this.response=this.responseText=t,qi(this))};I.Ta=function(t){this.g&&(this.response=t,qi(this))};I.ha=function(){this.g&&qi(this)};function qi(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ci(t)}I.setRequestHeader=function(t,e){this.v.append(t,e)};I.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};I.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ci(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var cw=L.JSON.parse;function oe(t){he.call(this),this.headers=new hr,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=zm,this.K=this.L=!1}Ce(oe,he);var zm="",hw=/^https?$/i,fw=["POST","PUT"];I=oe.prototype;I.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fa.g(),this.C=this.u?yf(this.u):yf(Fa),this.g.onreadystatechange=ye(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){Ef(this,s);return}t=n||"";const i=new hr(this.headers);r&&fc(r,function(s,o){i.set(o,s)}),r=C1(i.T()),n=L.FormData&&t instanceof L.FormData,!(0<=sm(fw,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(s,o){this.g.setRequestHeader(o,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Km(this),0<this.B&&((this.K=dw(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ye(this.pa,this)):this.A=ac(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ef(this,s)}};function dw(t){return Zn&&D1()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function pw(t){return t.toLowerCase()=="content-type"}I.pa=function(){typeof Yu!="undefined"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ve(this,"timeout"),this.abort(8))};function Ef(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Hm(t),qo(t)}function Hm(t){t.D||(t.D=!0,ve(t,"complete"),ve(t,"error"))}I.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ve(this,"complete"),ve(this,"abort"),qo(this))};I.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qo(this,!0)),oe.Z.M.call(this)};I.Fa=function(){this.s||(this.F||this.v||this.l?qm(this):this.cb())};I.cb=function(){qm(this)};function qm(t){if(t.h&&typeof Yu!="undefined"&&(!t.C[1]||pt(t)!=4||t.ba()!=2)){if(t.v&&pt(t)==4)ac(t.Fa,0,t);else if(ve(t,"readystatechange"),pt(t)==4){t.h=!1;try{const l=t.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=l===0){var i=String(t.H).match($m)[1]||null;if(!i&&L.self&&L.self.location){var s=L.self.location.protocol;i=s.substr(0,s.length-1)}r=!hw.test(i?i.toLowerCase():"")}n=r}if(n)ve(t,"complete"),ve(t,"success");else{t.m=6;try{var o=2<pt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.ba()+"]",Hm(t)}}finally{qo(t)}}}}function qo(t,e){if(t.g){Km(t);const n=t.g,r=t.C[0]?no:null;t.g=null,t.C=null,e||ve(t,"ready");try{n.onreadystatechange=r}catch{}}}function Km(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(L.clearTimeout(t.A),t.A=null)}function pt(t){return t.g?t.g.readyState:0}I.ba=function(){try{return 2<pt(this)?this.g.status:-1}catch{return-1}};I.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};I.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),cw(e)}};function Sf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case zm:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}I.Da=function(){return this.m};I.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function mw(t){let e="";return Ju(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function yc(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mw(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Q(t,e,n))}function Pr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bm(t){this.za=0,this.l=[],this.h=new Fo,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Pr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Pr("baseRetryDelayMs",5e3,t),this.$a=Pr("retryDelaySeedMs",1e4,t),this.Ya=Pr("forwardChannelMaxRetries",2,t),this.ra=Pr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Mm(t&&t.concurrentRequestLimit),this.Ca=new lw,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}I=bm.prototype;I.ma=8;I.G=1;function vc(t){if(Wm(t),t.G==3){var e=t.V++,n=yt(t.F);Q(n,"SID",t.J),Q(n,"RID",e),Q(n,"TYPE","terminate"),Ki(t,n),e=new Bi(t,t.h,e,void 0),e.K=2,e.v=zo(yt(n)),n=!1,L.navigator&&L.navigator.sendBeacon&&(n=L.navigator.sendBeacon(e.v.toString(),"")),!n&&L.Image&&(new Image().src=e.v,n=!0),n||(e.g=tg(e.l,null),e.g.ea(e.v)),e.F=Date.now(),zi(e)}Jm(t)}I.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function Ko(t){t.g&&(Ec(t),t.g.cancel(),t.g=null)}function Wm(t){Ko(t),t.u&&(L.clearTimeout(t.u),t.u=null),uo(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&L.clearTimeout(t.m),t.m=null)}function Ll(t,e){t.l.push(new sw(t.Za++,e)),t.G==3&&bo(t)}function bo(t){Fm(t.i)||t.m||(t.m=!0,oc(t.Ha,t),t.C=0)}function gw(t,e){return Vm(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=Ui(ye(t.Ha,t,e),Zm(t,t.C)),t.C++,!0)}I.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Bi(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=lm(s),am(s,this.P)):s=this.P),this.o===null&&(i.H=s),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Gm(this,i,e),n=yt(this.F),Q(n,"RID",t),Q(n,"CVER",22),this.D&&Q(n,"X-HTTP-Session-Id",this.D),Ki(this,n),this.o&&s&&yc(n,this.o,s),pc(this.i,i),this.Ra&&Q(n,"TYPE","init"),this.ja?(Q(n,"$req",e),Q(n,"SID","null"),i.$=!0,Ua(i,n,null)):Ua(i,n,e),this.G=2}}else this.G==3&&(t?Tf(this,t):this.l.length==0||Fm(this.i)||Tf(this))};function Tf(t,e){var n;e?n=e.m:n=t.V++;const r=yt(t.F);Q(r,"SID",t.J),Q(r,"RID",n),Q(r,"AID",t.U),Ki(t,r),t.o&&t.s&&yc(r,t.o,t.s),n=new Bi(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Gm(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),pc(t.i,n),Ua(n,r,e)}function Ki(t,e){t.j&&fc({},function(n,r){Q(e,r,n)})}function Gm(t,e,n){n=Math.min(t.l.length,n);var r=t.j?ye(t.j.Oa,t.j,t):null;e:{var i=t.l;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let l=!0;for(let a=0;a<n;a++){let u=i[a].h;const h=i[a].g;if(u-=s,0>u)s=Math.max(0,i[a].h-100),l=!1;else try{aw(h,o,"req"+u+"_")}catch{r&&r(h)}}if(l){r=o.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function Qm(t){t.g||t.u||(t.Y=1,oc(t.Ga,t),t.A=0)}function wc(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=Ui(ye(t.Ga,t),Zm(t,t.A)),t.A++,!0)}I.Ga=function(){if(this.u=null,Xm(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=Ui(ye(this.bb,this),t)}};I.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pe(10),Ko(this),Xm(this))};function Ec(t){t.B!=null&&(L.clearTimeout(t.B),t.B=null)}function Xm(t){t.g=new Bi(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=yt(t.oa);Q(e,"RID","rpc"),Q(e,"SID",t.J),Q(e,"CI",t.N?"0":"1"),Q(e,"AID",t.U),Ki(t,e),Q(e,"TYPE","xmlhttp"),t.o&&t.s&&yc(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=zo(yt(e)),n.s=null,n.U=!0,Dm(n,t)}I.ab=function(){this.v!=null&&(this.v=null,Ko(this),wc(this),Pe(19))};function uo(t){t.v!=null&&(L.clearTimeout(t.v),t.v=null)}function Ym(t,e){var n=null;if(t.g==e){uo(t),Ec(t),t.g=null;var r=2}else if(Ba(t.i,e))n=e.D,Um(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=Vo(),ve(r,new km(r,n,e,i)),bo(t)}else Qm(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&gw(t,e)||r==2&&wc(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:tn(t,5);break;case 4:tn(t,10);break;case 3:tn(t,6);break;default:tn(t,2)}}}function Zm(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function tn(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=ye(t.jb,t);n||(n=new hn("//www.google.com/images/cleardot.gif"),L.location&&L.location.protocol=="http"||oo(n,"https"),zo(n)),uw(n.toString(),r)}else Pe(2);t.G=0,t.j&&t.j.va(e),Jm(t),Wm(t)}I.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pe(2)):(this.h.info("Failed to ping google.com"),Pe(1))};function Jm(t){t.G=0,t.I=-1,t.j&&((jm(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Zu(t.l),t.l.length=0),t.j.ua())}function eg(t,e,n){let r=Y1(n);if(r.i!="")e&&lo(r,e+"."+r.i),ao(r,r.m);else{const i=L.location;r=Z1(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ju(t.aa,function(i,s){Q(r,s,i)}),e=t.D,n=t.sa,e&&n&&Q(r,e,n),Q(r,"VER",t.ma),Ki(t,r),r}function tg(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new oe(new Hi({ib:!0})):new oe(t.qa),e.L=t.H,e}function ng(){}I=ng.prototype;I.xa=function(){};I.wa=function(){};I.va=function(){};I.ua=function(){};I.Oa=function(){};function co(){if(Zn&&!(10<=Number(x1)))throw Error("Environmental error: no available transport.")}co.prototype.g=function(t,e){return new He(t,e)};function He(t,e){he.call(this),this.g=new bm(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ro(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ro(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new dr(this)}Ce(He,he);He.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),oc(ye(t.hb,t,e))),Pe(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=eg(t,null,t.W),bo(t)};He.prototype.close=function(){vc(this.g)};He.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Ll(this.g,e)}else this.v?(e={},e.__data__=sc(t),Ll(this.g,e)):Ll(this.g,t)};He.prototype.M=function(){this.g.j=null,delete this.j,vc(this.g),delete this.g,He.Z.M.call(this)};function rg(t){cc.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ce(rg,cc);function ig(){hc.call(this),this.status=1}Ce(ig,hc);function dr(t){this.g=t}Ce(dr,ng);dr.prototype.xa=function(){ve(this.g,"a")};dr.prototype.wa=function(t){ve(this.g,new rg(t))};dr.prototype.va=function(t){ve(this.g,new ig(t))};dr.prototype.ua=function(){ve(this.g,"b")};co.prototype.createWebChannel=co.prototype.g;He.prototype.send=He.prototype.u;He.prototype.open=He.prototype.m;He.prototype.close=He.prototype.close;Uo.NO_ERROR=0;Uo.TIMEOUT=8;Uo.HTTP_ERROR=6;_m.COMPLETE="complete";Im.EventType=ji;ji.OPEN="a";ji.CLOSE="b";ji.ERROR="c";ji.MESSAGE="d";he.prototype.listen=he.prototype.N;oe.prototype.listenOnce=oe.prototype.O;oe.prototype.getLastError=oe.prototype.La;oe.prototype.getLastErrorCode=oe.prototype.Da;oe.prototype.getStatus=oe.prototype.ba;oe.prototype.getResponseJson=oe.prototype.Qa;oe.prototype.getResponseText=oe.prototype.ga;oe.prototype.send=oe.prototype.ea;var yw=function(){return new co},vw=function(){return Vo()},Ml=Uo,ww=_m,Ew=En,Cf={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Sw=Hi,ds=Im,Tw=oe;const kf="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ve.UNAUTHENTICATED=new Ve(null),Ve.GOOGLE_CREDENTIALS=new Ve("google-credentials-uid"),Ve.FIRST_PARTY=new Ve("first-party-uid"),Ve.MOCK_USER=new Ve("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr="9.6.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new tm("@firebase/firestore");function _f(){return fn.logLevel}function D(t,...e){if(fn.logLevel<=q.DEBUG){const n=e.map(Sc);fn.debug(`Firestore (${pr}): ${t}`,...n)}}function Vt(t,...e){if(fn.logLevel<=q.ERROR){const n=e.map(Sc);fn.error(`Firestore (${pr}): ${t}`,...n)}}function If(t,...e){if(fn.logLevel<=q.WARN){const n=e.map(Sc);fn.warn(`Firestore (${pr}): ${t}`,...n)}}function Sc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t="Unexpected state"){const e=`FIRESTORE (${pr}) INTERNAL ASSERTION FAILED: `+t;throw Vt(e),new Error(e)}function se(t,e){t||U()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends Po{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ve.UNAUTHENTICATED))}shutdown(){}}class _w{constructor(e){this.t=e,this.currentUser=Ve.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=a=>this.i!==r?(r=this.i,n(a)):Promise.resolve();let s=new rn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new rn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=s;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new rn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(se(typeof r.accessToken=="string"),new Cw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return se(e===null||typeof e=="string"),new Ve(e)}}class Iw{constructor(e,n,r){this.type="FirstParty",this.user=Ve.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Nw{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Iw(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ve.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xw{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const r=s=>{s.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.p;return this.p=s.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?i(s):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(se(typeof n.token=="string"),this.p=n.token,new Dw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.I(r),this.T=r=>n.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tc.A=-1;class Rw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Aw(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function K(t,e){return t<e?-1:t>e?1:0}function ki(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.timestamp=e}static fromTimestamp(e){return new j(e)}static min(){return new j(new $t(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $w(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,n,r){n===void 0?n=0:n>e.length&&U(),r===void 0?r=e.length-n:r>e.length-n&&U(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class J extends _i{construct(e,n,r){return new J(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(_.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new J(n)}static emptyPath(){return new J([])}}const Pw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends _i{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return Pw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new $(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new $(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new $(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Se(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Se(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return K(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Se.EMPTY_BYTE_STRING=new Se("");const Ow=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ut(t){if(se(!!t),typeof t=="string"){let e=0;const n=Ow.exec(t);if(se(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ie(t.seconds),nanos:ie(t.nanos)}}function ie(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jn(t){return typeof t=="string"?Se.fromBase64String(t):Se.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function og(t){const e=t.mapValue.fields.__previous_value__;return sg(e)?og(e):e}function Ii(t){const e=Ut(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r,i,s,o,l,a){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.useFetchStreams=a}}class er{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new er("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof er&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){return t==null}function za(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.path=e}static fromPath(e){return new M(J.fromString(e))}static fromName(e){return new M(J.fromString(e).popFirst(5))}static empty(){return new M(J.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&J.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return J.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new M(new J(e.slice()))}}function dn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sg(t)?4:Mw(t)?9:10:U()}function lt(t,e){if(t===e)return!0;const n=dn(t);if(n!==dn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ii(t).isEqual(Ii(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Ut(r.timestampValue),o=Ut(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Jn(r.bytesValue).isEqual(Jn(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return ie(r.geoPointValue.latitude)===ie(i.geoPointValue.latitude)&&ie(r.geoPointValue.longitude)===ie(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ie(r.integerValue)===ie(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ie(r.doubleValue),o=ie(i.doubleValue);return s===o?za(s)===za(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return ki(t.arrayValue.values||[],e.arrayValue.values||[],lt);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Nf(s)!==Nf(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!lt(s[l],o[l])))return!1;return!0}(t,e);default:return U()}}function Ni(t,e){return(t.values||[]).find(n=>lt(n,e))!==void 0}function tr(t,e){if(t===e)return 0;const n=dn(t),r=dn(e);if(n!==r)return K(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return K(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=ie(i.integerValue||i.doubleValue),l=ie(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return Df(t.timestampValue,e.timestampValue);case 4:return Df(Ii(t),Ii(e));case 5:return K(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Jn(i),l=Jn(s);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let a=0;a<o.length&&a<l.length;a++){const u=K(o[a],l[a]);if(u!==0)return u}return K(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=K(ie(i.latitude),ie(s.latitude));return o!==0?o:K(ie(i.longitude),ie(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],l=s.values||[];for(let a=0;a<o.length&&a<l.length;++a){const u=tr(o[a],l[a]);if(u)return u}return K(o.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){const o=i.fields||{},l=Object.keys(o),a=s.fields||{},u=Object.keys(a);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const m=K(l[h],u[h]);if(m!==0)return m;const p=tr(o[l[h]],a[u[h]]);if(p!==0)return p}return K(l.length,u.length)}(t.mapValue,e.mapValue);default:throw U()}}function Df(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return K(t,e);const n=Ut(t),r=Ut(e),i=K(n.seconds,r.seconds);return i!==0?i:K(n.nanos,r.nanos)}function Kn(t){return Ha(t)}function Ha(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Ut(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Jn(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,M.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Ha(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const l of i)o?o=!1:s+=",",s+=`${l}:${Ha(r.fields[l])}`;return s+"}"}(t.mapValue):U();var e,n}function qa(t){return!!t&&"integerValue"in t}function Cc(t){return!!t&&"arrayValue"in t}function xf(t){return!!t&&"nullValue"in t}function Af(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fl(t){return!!t&&"mapValue"in t}function ti(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Wo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ti(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ti(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Mw(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.value=e}static empty(){return new ht({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ti(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=ti(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Fl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new ht(ti(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e,n,r,i,s,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Ie(e,0,j.min(),j.min(),ht.empty(),0)}static newFoundDocument(e,n,r){return new Ie(e,1,n,j.min(),r,0)}static newNoDocument(e,n){return new Ie(e,2,n,j.min(),ht.empty(),0)}static newUnknownDocument(e,n){return new Ie(e,3,n,j.min(),ht.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ht.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ht.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ie&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ie(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.P=null}}function Rf(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Fw(t,e,n,r,i,s,o)}function kc(t){const e=H(t);if(e.P===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Kn(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mr(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Kn(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Kn(r)).join(",")),e.P=n}return e.P}function Vw(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Kn(r.value)}`;var r}).join(", ")}]`),mr(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Kn(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Kn(n)).join(",")),`Target(${e})`}function _c(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!bw(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!lt(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pf(t.startAt,e.startAt)&&Pf(t.endAt,e.endAt)}function Ka(t){return M.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ue extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.V(e,n,r):new Uw(e,n,r):n==="array-contains"?new zw(e,r):n==="in"?new Hw(e,r):n==="not-in"?new qw(e,r):n==="array-contains-any"?new Kw(e,r):new Ue(e,n,r)}static V(e,n,r){return n==="in"?new jw(e,r):new Bw(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.v(tr(n,this.value)):n!==null&&dn(this.value)===dn(n)&&this.v(tr(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return U()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Uw extends Ue{constructor(e,n,r){super(e,n,r),this.key=M.fromName(r.referenceValue)}matches(e){const n=M.comparator(e.key,this.key);return this.v(n)}}class jw extends Ue{constructor(e,n){super(e,"in",n),this.keys=lg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bw extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=lg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function lg(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>M.fromName(r.referenceValue))}class zw extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cc(n)&&Ni(n.arrayValue,this.value)}}class Hw extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ni(this.value.arrayValue,n)}}class qw extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ni(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ni(this.value.arrayValue,n)}}class Kw extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ni(this.value.arrayValue,r))}}class ho{constructor(e,n){this.position=e,this.inclusive=n}}class ni{constructor(e,n="asc"){this.field=e,this.dir=n}}function bw(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function $f(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=M.comparator(M.fromName(o.referenceValue),n.key):r=tr(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Pf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=a,this.D=null,this.C=null,this.startAt,this.endAt}}function Ww(t,e,n,r,i,s,o,l){return new Go(t,e,n,r,i,s,o,l)}function ag(t){return new Go(t)}function Ns(t){return!mr(t.limit)&&t.limitType==="F"}function fo(t){return!mr(t.limit)&&t.limitType==="L"}function Gw(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Qw(t){for(const e of t.filters)if(e.S())return e.field;return null}function Xw(t){return t.collectionGroup!==null}function Di(t){const e=H(t);if(e.D===null){e.D=[];const n=Qw(e),r=Gw(e);if(n!==null&&r===null)n.isKeyField()||e.D.push(new ni(n)),e.D.push(new ni(et.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new ni(et.keyField(),s))}}}return e.D}function pn(t){const e=H(t);if(!e.C)if(e.limitType==="F")e.C=Rf(e.path,e.collectionGroup,Di(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Di(e)){const o=s.dir==="desc"?"asc":"desc";n.push(new ni(s.field,o))}const r=e.endAt?new ho(e.endAt.position,!e.endAt.inclusive):null,i=e.startAt?new ho(e.startAt.position,!e.startAt.inclusive):null;e.C=Rf(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.C}function ug(t,e,n){return new Go(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qo(t,e){return _c(pn(t),pn(e))&&t.limitType===e.limitType}function cg(t){return`${kc(pn(t))}|lt:${t.limitType}`}function ba(t){return`Query(target=${Vw(pn(t))}; limitType=${t.limitType})`}function Ic(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):M.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,s,o){const l=$f(i,s,o);return i.inclusive?l<=0:l<0}(n.startAt,Di(n),r)||n.endAt&&!function(i,s,o){const l=$f(i,s,o);return i.inclusive?l>=0:l>0}(n.endAt,Di(n),r))}(t,e)}function hg(t){return(e,n)=>{let r=!1;for(const i of Di(t)){const s=Yw(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yw(t,e,n){const r=t.field.isKeyField()?M.comparator(e.key,n.key):function(i,s,o){const l=s.data.field(i),a=o.data.field(i);return l!==null&&a!==null?tr(l,a):U()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return U()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t,e){if(t.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:za(e)?"-0":e}}function Jw(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this._=void 0}}function eE(t,e,n){return t instanceof Wa?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof po?fg(t,e):t instanceof mo?dg(t,e):function(r,i){const s=nE(r,i),o=Of(s)+Of(r.k);return qa(s)&&qa(r.k)?Jw(o):Zw(r.M,o)}(t,e)}function tE(t,e,n){return t instanceof po?fg(t,e):t instanceof mo?dg(t,e):n}function nE(t,e){return t instanceof Ga?qa(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Wa extends Xo{}class po extends Xo{constructor(e){super(),this.elements=e}}function fg(t,e){const n=pg(e);for(const r of t.elements)n.some(i=>lt(i,r))||n.push(r);return{arrayValue:{values:n}}}class mo extends Xo{constructor(e){super(),this.elements=e}}function dg(t,e){let n=pg(e);for(const r of t.elements)n=n.filter(i=>!lt(i,r));return{arrayValue:{values:n}}}class Ga extends Xo{constructor(e,n){super(),this.M=e,this.k=n}}function Of(t){return ie(t.integerValue||t.doubleValue)}function pg(t){return Cc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function rE(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof po&&r instanceof po||n instanceof mo&&r instanceof mo?ki(n.elements,r.elements,lt):n instanceof Ga&&r instanceof Ga?lt(n.k,r.k):n instanceof Wa&&r instanceof Wa}(t.transform,e.transform)}function Ds(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mg{}function iE(t,e,n){t instanceof gg?function(r,i,s){const o=r.value.clone(),l=Ff(r.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof yg?function(r,i,s){if(!Ds(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=Ff(r.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(vg(r)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Qa(t,e,n){t instanceof gg?function(r,i,s){if(!Ds(r.precondition,i))return;const o=r.value.clone(),l=Vf(r.fieldTransforms,s,i);o.setAll(l),i.convertToFoundDocument(Mf(i),o).setHasLocalMutations()}(t,e,n):t instanceof yg?function(r,i,s){if(!Ds(r.precondition,i))return;const o=Vf(r.fieldTransforms,s,i),l=i.data;l.setAll(vg(r)),l.setAll(o),i.convertToFoundDocument(Mf(i),l).setHasLocalMutations()}(t,e,n):function(r,i){Ds(r.precondition,i)&&i.convertToNoDocument(j.min())}(t,e)}function Lf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ki(n,r,(i,s)=>rE(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Mf(t){return t.isFoundDocument()?t.version:j.min()}class gg extends mg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}}class yg extends mg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}}function vg(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ff(t,e,n){const r=new Map;se(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,tE(o,l,n[i]))}return r}function Vf(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,eE(s,o,e))}return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,B;function wg(t){if(t===void 0)return Vt("GRPC error has no .code"),_.UNKNOWN;switch(t){case re.OK:return _.OK;case re.CANCELLED:return _.CANCELLED;case re.UNKNOWN:return _.UNKNOWN;case re.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case re.INTERNAL:return _.INTERNAL;case re.UNAVAILABLE:return _.UNAVAILABLE;case re.UNAUTHENTICATED:return _.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case re.NOT_FOUND:return _.NOT_FOUND;case re.ALREADY_EXISTS:return _.ALREADY_EXISTS;case re.PERMISSION_DENIED:return _.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case re.ABORTED:return _.ABORTED;case re.OUT_OF_RANGE:return _.OUT_OF_RANGE;case re.UNIMPLEMENTED:return _.UNIMPLEMENTED;case re.DATA_LOSS:return _.DATA_LOSS;default:return U()}}(B=re||(re={}))[B.OK=0]="OK",B[B.CANCELLED=1]="CANCELLED",B[B.UNKNOWN=2]="UNKNOWN",B[B.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",B[B.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",B[B.NOT_FOUND=5]="NOT_FOUND",B[B.ALREADY_EXISTS=6]="ALREADY_EXISTS",B[B.PERMISSION_DENIED=7]="PERMISSION_DENIED",B[B.UNAUTHENTICATED=16]="UNAUTHENTICATED",B[B.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",B[B.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",B[B.ABORTED=10]="ABORTED",B[B.OUT_OF_RANGE=11]="OUT_OF_RANGE",B[B.UNIMPLEMENTED=12]="UNIMPLEMENTED",B[B.INTERNAL=13]="INTERNAL",B[B.UNAVAILABLE=14]="UNAVAILABLE",B[B.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.comparator=e,this.root=n||me.EMPTY}insert(e,n){return new Te(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,me.BLACK,null,null))}remove(e){return new Te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,me.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}}class ps{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class me{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r!=null?r:me.RED,this.left=i!=null?i:me.EMPTY,this.right=s!=null?s:me.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new me(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return me.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return me.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw U();const e=this.left.check();if(e!==this.right.check())throw U();return e+(this.isRed()?0:1)}}me.EMPTY=null,me.RED=!0,me.BLACK=!1;me.EMPTY=new class{constructor(){this.size=0}get key(){throw U()}get value(){throw U()}get color(){throw U()}get left(){throw U()}get right(){throw U()}copy(t,e,n,r,i){return this}insert(t,e,n){return new me(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new Te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uf(this.data.getIterator())}getIteratorFrom(e){return new Uf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new we(this.comparator);return n.data=e,n}}class Uf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=new Te(M.comparator);function mn(){return oE}const lE=new Te(M.comparator);function Xa(){return lE}function Vl(){return new gr(t=>t.toString(),(t,e)=>t.isEqual(e))}new Te(M.comparator);const aE=new we(M.comparator);function X(...t){let e=aE;for(const n of t)e=e.add(n);return e}const uE=new we(K);function Eg(){return uE}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,bi.createSynthesizedTargetChangeForCurrentChange(e,n)),new Yo(j.min(),r,Eg(),mn(),X())}}class bi{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n){return new bi(Se.EMPTY_BYTE_STRING,n,X(),X(),X())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,n,r,i){this.O=e,this.removedTargetIds=n,this.key=r,this.$=i}}class Sg{constructor(e,n){this.targetId=e,this.F=n}}class Tg{constructor(e,n,r=Se.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class jf{constructor(){this.B=0,this.L=zf(),this.q=Se.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return this.B!==0}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}H(){let e=X(),n=X(),r=X();return this.L.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:U()}}),new bi(this.q,this.U,e,n,r)}J(){this.K=!1,this.L=zf()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class cE{constructor(e){this.nt=e,this.st=new Map,this.it=mn(),this.rt=Bf(),this.ot=new we(K)}at(e){for(const n of e.O)e.$&&e.$.isFoundDocument()?this.ut(n,e.$):this.ct(n,e.key,e.$);for(const n of e.removedTargetIds)this.ct(n,e.key,e.$)}ht(e){this.forEachTarget(e,n=>{const r=this.lt(n);switch(e.state){case 0:this.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(n);break;case 3:this.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),r.W(e.resumeToken));break;default:U()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((r,i)=>{this.ft(i)&&n(i)})}_t(e){const n=e.targetId,r=e.F.count,i=this.wt(n);if(i){const s=i.target;if(Ka(s))if(r===0){const o=new M(s.path);this.ct(n,o,Ie.newNoDocument(o,j.min()))}else se(r===1);else this.gt(n)!==r&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((s,o)=>{const l=this.wt(o);if(l){if(s.current&&Ka(l.target)){const a=new M(l.target.path);this.it.get(a)!==null||this.It(o,a)||this.ct(o,a,Ie.newNoDocument(a,e))}s.j&&(n.set(o,s.H()),s.J())}});let r=X();this.rt.forEach((s,o)=>{let l=!0;o.forEachWhile(a=>{const u=this.wt(a);return!u||u.purpose===2||(l=!1,!1)}),l&&(r=r.add(s))}),this.it.forEach((s,o)=>o.setReadTime(e));const i=new Yo(e,n,this.ot,this.it,r);return this.it=mn(),this.rt=Bf(),this.ot=new we(K),i}ut(e,n){if(!this.ft(e))return;const r=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,r),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,n)?i.Y(n,1):i.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),r&&(this.it=this.it.insert(n,r))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new jf,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new we(K),this.rt=this.rt.insert(e,n)),n}ft(e){const n=this.wt(e)!==null;return n||D("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new jf),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function Bf(){return new Te(M.comparator)}function zf(){return new Te(M.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fE=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class dE{constructor(e,n){this.databaseId=e,this.N=n}}function pE(t,e){return t.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mE(t,e){return t.N?e.toBase64():e.toUint8Array()}function xi(t){return se(!!t),j.fromTimestamp(function(e){const n=Ut(e);return new $t(n.seconds,n.nanos)}(t))}function gE(t,e){return function(n){return new J(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Cg(t){const e=J.fromString(t);return se(Ig(e)),e}function Ul(t,e){const n=Cg(e);if(n.get(1)!==t.databaseId.projectId)throw new $(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new M(kg(n))}function Ya(t,e){return gE(t.databaseId,e)}function yE(t){const e=Cg(t);return e.length===4?J.emptyPath():kg(e)}function Hf(t){return new J(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kg(t){return se(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function vE(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:U()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(a,u){return a.N?(se(u===void 0||typeof u=="string"),Se.fromBase64String(u||"")):(se(u===void 0||u instanceof Uint8Array),Se.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(a){const u=a.code===void 0?_.UNKNOWN:wg(a.code);return new $(u,a.message||"")}(o);n=new Tg(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ul(t,r.document.name),s=xi(r.document.updateTime),o=new ht({mapValue:{fields:r.document.fields}}),l=Ie.newFoundDocument(i,s,o),a=r.targetIds||[],u=r.removedTargetIds||[];n=new xs(a,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ul(t,r.document),s=r.readTime?xi(r.readTime):j.min(),o=Ie.newNoDocument(i,s),l=r.removedTargetIds||[];n=new xs([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ul(t,r.document),s=r.removedTargetIds||[];n=new xs([],s,i,null)}else{if(!("filter"in e))return U();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,s=new sE(i),o=r.targetId;n=new Sg(o,s)}}return n}function wE(t,e){return{documents:[Ya(t,e.path)]}}function EE(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Ya(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ya(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(a){if(a.length===0)return;const u=a.map(h=>function(m){if(m.op==="=="){if(Af(m.value))return{unaryFilter:{field:Cn(m.field),op:"IS_NAN"}};if(xf(m.value))return{unaryFilter:{field:Cn(m.field),op:"IS_NULL"}}}else if(m.op==="!="){if(Af(m.value))return{unaryFilter:{field:Cn(m.field),op:"IS_NOT_NAN"}};if(xf(m.value))return{unaryFilter:{field:Cn(m.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cn(m.field),op:kE(m.op),value:m.value}}}(h));return u.length===1?u[0]:{compositeFilter:{op:"AND",filters:u}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(a){if(a.length!==0)return a.map(u=>function(h){return{field:Cn(h.field),direction:CE(h.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=function(a,u){return a.N||mr(u)?u:{value:u}}(t,e.limit);var l;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),n}function SE(t){let e=yE(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){se(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=_g(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(m){return new ni(Pn(m.field),function(p){switch(p){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h)));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,mr(m)?null:m}(n.limit));let a=null;n.startAt&&(a=function(h){const m=!!h.before,p=h.values||[];return new ho(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,p=h.values||[];return new ho(p,m)}(n.endAt)),Ww(e,i,o,s,l,"F",a,u)}function TE(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return U()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function _g(t){return t?t.unaryFilter!==void 0?[IE(t)]:t.fieldFilter!==void 0?[_E(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>_g(e)).reduce((e,n)=>e.concat(n)):U():[]}function CE(t){return hE[t]}function kE(t){return fE[t]}function Cn(t){return{fieldPath:t.canonicalString()}}function Pn(t){return et.fromServerFormat(t.fieldPath)}function _E(t){return Ue.create(Pn(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return U()}}(t.fieldFilter.op),t.fieldFilter.value)}function IE(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Pn(t.unaryFilter.field);return Ue.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Pn(t.unaryFilter.field);return Ue.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pn(t.unaryFilter.field);return Ue.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pn(t.unaryFilter.field);return Ue.create(i,"!=",{nullValue:"NULL_VALUE"});default:return U()}}function Ig(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&U(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new S((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof S?n:S.resolve(n)}catch(n){return S.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):S.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):S.reject(n)}static resolve(e){return new S((n,r)=>{n(e)})}static reject(e){return new S((n,r)=>{r(e)})}static waitFor(e){return new S((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},a=>r(a))}),o=!0,s===i&&n()})}static or(e){let n=S.resolve(!1);for(const r of e)n=n.next(i=>i?S.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}}function Wi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&iE(s,e,r[i])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&Qa(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&Qa(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const r=e.get(n.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(j.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),X())}isEqual(e){return this.batchId===e.batchId&&ki(this.mutations,e.mutations,(n,r)=>Lf(n,r))&&ki(this.baseMutations,e.baseMutations,(n,r)=>Lf(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,n,r,i,s=j.min(),o=j.min(),l=Se.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l}withSequenceNumber(e){return new sn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new sn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new sn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e){this.Jt=e}}function $E(t){const e=SE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ug(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(){this.Ue=new OE}addToCollectionParentIndex(e,n){return this.Ue.add(n),S.resolve()}getCollectionParents(e,n){return S.resolve(this.Ue.getEntries(n))}addFieldIndex(e,n){return S.resolve()}deleteFieldIndex(e,n){return S.resolve()}getDocumentsMatchingTarget(e,n){return S.resolve(null)}getFieldIndex(e,n){return S.resolve(null)}getFieldIndexes(e,n){return S.resolve([])}getNextCollectionGroupToUpdate(e){return S.resolve(null)}updateCollectionGroup(e,n,r){return S.resolve()}updateIndexEntries(e,n){return S.resolve()}}class OE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new we(J.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new we(J.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new nr(0)}static gn(){return new nr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nc(t){if(t.code!==_.FAILED_PRECONDITION||t.message!==NE)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(){this.changes=new gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ie.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?S.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,r){this.ls=e,this.Fs=n,this.indexManager=r}Bs(e,n){return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,n).next(r=>this.Ls(e,n,r))}Ls(e,n,r){return this.ls.getEntry(e,n).next(i=>{for(const s of r)s.applyToLocalView(i);return i})}qs(e,n){e.forEach((r,i)=>{for(const s of n)s.applyToLocalView(i)})}Us(e,n){return this.ls.getEntries(e,n).next(r=>this.Ks(e,r).next(()=>r))}Ks(e,n){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(r=>this.qs(n,r))}Gs(e,n,r){return function(i){return M.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.Qs(e,n.path):Xw(n)?this.js(e,n,r):this.Ws(e,n,r)}Qs(e,n){return this.Bs(e,new M(n)).next(r=>{let i=Xa();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}js(e,n,r){const i=n.collectionGroup;let s=Xa();return this.indexManager.getCollectionParents(e,i).next(o=>S.forEach(o,l=>{const a=function(u,h){return new Go(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(i));return this.Ws(e,a,r).next(u=>{u.forEach((h,m)=>{s=s.insert(h,m)})})}).next(()=>s))}Ws(e,n,r){let i;return this.ls.getAll(e,n.path,r).next(s=>(i=s,this.Fs.getAllMutationBatchesAffectingQuery(e,n))).next(s=>{for(const o of s)for(const l of o.mutations){const a=l.key;let u=i.get(a);u==null&&(u=Ie.newInvalidDocument(a),i=i.insert(a,u)),Qa(l,u,o.localWriteTime),u.isFoundDocument()||(i=i.remove(a))}}).next(()=>(i.forEach((s,o)=>{Ic(n,o)||(i=i.remove(s))}),i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.zs=r,this.Hs=i}static Js(e,n){let r=X(),i=X();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Dc(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{Ys(e){this.Xs=e}Gs(e,n,r,i){return function(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}(n)||r.isEqual(j.min())?this.Zs(e,n):this.Xs.Us(e,i).next(s=>{const o=this.ti(n,s);return(Ns(n)||fo(n))&&this.ei(n.limitType,o,i,r)?this.Zs(e,n):(_f()<=q.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ba(n)),this.Xs.Gs(e,n,r).next(l=>(o.forEach(a=>{l=l.insert(a.key,a)}),l)))})}ti(e,n){let r=new we(hg(e));return n.forEach((i,s)=>{Ic(e,s)&&(r=r.add(s))}),r}ei(e,n,r,i){if(r.size!==n.size)return!0;const s=e==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Zs(e,n){return _f()<=q.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",ba(n)),this.Xs.Gs(e,n,j.min())}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,r,i){this.persistence=e,this.ni=n,this.M=i,this.si=new Te(K),this.ii=new gr(s=>kc(s),_c),this.ri=j.min(),this.oi=e.getRemoteDocumentCache(),this.hs=e.getTargetCache(),this.fs=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new ME(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.si))}}function UE(t,e,n,r){return new VE(t,e,n,r)}async function Ng(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.Fs.getAllMutationBatches(r).next(s=>(i=s,n.ai(e),n.Fs.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let a=X();for(const u of i){o.push(u.batchId);for(const h of u.mutations)a=a.add(h.key)}for(const u of s){l.push(u.batchId);for(const h of u.mutations)a=a.add(h.key)}return n.ui.Us(r,a).next(u=>({ci:u,removedBatchIds:o,addedBatchIds:l}))})})}function Dg(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hs.getLastRemoteSnapshotVersion(n))}function jE(t,e){const n=H(t),r=e.snapshotVersion;let i=n.si;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.oi.newChangeBuffer({trackRemovals:!0});i=n.si;const l=[];e.targetChanges.forEach((u,h)=>{const m=i.get(h);if(!m)return;l.push(n.hs.removeMatchingKeys(s,u.removedDocuments,h).next(()=>n.hs.addMatchingKeys(s,u.addedDocuments,h)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(Se.EMPTY_BYTE_STRING,j.min()).withLastLimboFreeSnapshotVersion(j.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),i=i.insert(h,p),function(v,w,C){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(m,p,u)&&l.push(n.hs.updateTargetData(s,p))});let a=mn();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),l.push(BE(s,o,e.documentUpdates).next(u=>{a=u})),!r.isEqual(j.min())){const u=n.hs.getLastRemoteSnapshotVersion(s).next(h=>n.hs.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(u)}return S.waitFor(l).next(()=>o.apply(s)).next(()=>n.ui.Ks(s,a)).next(()=>a)}).then(s=>(n.si=i,s))}function BE(t,e,n){let r=X();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=mn();return n.forEach((o,l)=>{const a=i.get(o);l.isNoDocument()&&l.version.isEqual(j.min())?(e.removeEntry(o,l.readTime),s=s.insert(o,l)):!a.isValidDocument()||l.version.compareTo(a.version)>0||l.version.compareTo(a.version)===0&&a.hasPendingWrites?(e.addEntry(l),s=s.insert(o,l)):D("LocalStore","Ignoring outdated watch update for ",o,". Current version:",a.version," Watch version:",l.version)}),s})}function zE(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hs.getTargetData(r,e).next(s=>s?(i=s,S.resolve(i)):n.hs.allocateTargetId(r).next(o=>(i=new sn(e,o,0,r.currentSequenceNumber),n.hs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.si.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.si=n.si.insert(r.targetId,r),n.ii.set(e,r.targetId)),r})}async function Za(t,e,n){const r=H(t),i=r.si.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Wi(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.si=r.si.remove(e),r.ii.delete(i.target)}function qf(t,e,n){const r=H(t);let i=j.min(),s=X();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,a,u){const h=H(l),m=h.ii.get(u);return m!==void 0?S.resolve(h.si.get(m)):h.hs.getTargetData(a,u)}(r,o,pn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(o,l.targetId).next(a=>{s=a})}).next(()=>r.ni.Gs(o,e,n?i:j.min(),n?s:X())).next(l=>({documents:l,hi:s})))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,n){return S.resolve(this._i.get(n))}saveBundleMetadata(e,n){var r;return this._i.set(n.id,{id:(r=n).id,version:r.version,createTime:xi(r.createTime)}),S.resolve()}getNamedQuery(e,n){return S.resolve(this.wi.get(n))}saveNamedQuery(e,n){return this.wi.set(n.name,function(r){return{name:r.name,query:$E(r.bundledQuery),readTime:xi(r.readTime)}}(n)),S.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.overlays=new Te(M.comparator),this.mi=new Map}getOverlay(e,n){return S.resolve(this.overlays.get(n))}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Xt(e,n,s)}),S.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.mi.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(r)),S.resolve()}getOverlaysForCollection(e,n,r){const i=Vl(),s=n.length+1,o=new M(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,u=a.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&a.largestBatchId>r&&i.set(a.getKey(),a)}return S.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Te((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Vl(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const l=Vl(),a=s.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((u,h)=>l.set(u,h)),!(l.size()>=i)););return S.resolve(l)}Xt(e,n,r){if(r===null)return;const i=this.overlays.get(r.key);if(i!==null){const o=this.mi.get(i.largestBatchId).delete(r.key);this.mi.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new AE(n,r));let s=this.mi.get(n);s===void 0&&(s=X(),this.mi.set(n,s)),this.mi.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(){this.gi=new we(ue.yi),this.pi=new we(ue.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,n){const r=new ue(e,n);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ei(new ue(e,n))}Ai(e,n){e.forEach(r=>this.removeReference(r,n))}Ri(e){const n=new M(new J([])),r=new ue(n,e),i=new ue(n,e+1),s=[];return this.pi.forEachInRange([r,i],o=>{this.Ei(o),s.push(o.key)}),s}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const n=new M(new J([])),r=new ue(n,e),i=new ue(n,e+1);let s=X();return this.pi.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ue(e,0),r=this.gi.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ue{constructor(e,n){this.key=e,this.Vi=n}static yi(e,n){return M.comparator(e.key,n.key)||K(e.Vi,n.Vi)}static Ii(e,n){return K(e.Vi,n.Vi)||M.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Fs=[],this.vi=1,this.Si=new we(ue.yi)}checkEmpty(e){return S.resolve(this.Fs.length===0)}addMutationBatch(e,n,r,i){const s=this.vi;this.vi++,this.Fs.length>0&&this.Fs[this.Fs.length-1];const o=new xE(s,n,r,i);this.Fs.push(o);for(const l of i)this.Si=this.Si.add(new ue(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return S.resolve(o)}lookupMutationBatch(e,n){return S.resolve(this.Di(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Ci(r),s=i<0?0:i;return S.resolve(this.Fs.length>s?this.Fs[s]:null)}getHighestUnacknowledgedBatchId(){return S.resolve(this.Fs.length===0?-1:this.vi-1)}getAllMutationBatches(e){return S.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ue(n,0),i=new ue(n,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([r,i],o=>{const l=this.Di(o.Vi);s.push(l)}),S.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new we(K);return n.forEach(i=>{const s=new ue(i,0),o=new ue(i,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,o],l=>{r=r.add(l.Vi)})}),S.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;M.isDocumentKey(s)||(s=s.child(""));const o=new ue(new M(s),0);let l=new we(K);return this.Si.forEachWhile(a=>{const u=a.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(l=l.add(a.Vi)),!0)},o),S.resolve(this.xi(l))}xi(e){const n=[];return e.forEach(r=>{const i=this.Di(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){se(this.Ni(n.batchId,"removed")===0),this.Fs.shift();let r=this.Si;return S.forEach(n.mutations,i=>{const s=new ue(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,n){const r=new ue(n,0),i=this.Si.firstAfterOrEqual(r);return S.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.Fs.length,S.resolve()}Ni(e,n){return this.Ci(e)}Ci(e){return this.Fs.length===0?0:e-this.Fs[0].batchId}Di(e){const n=this.Ci(e);return n<0||n>=this.Fs.length?null:this.Fs[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.ki=e,this.docs=new Te(M.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ki(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return S.resolve(r?r.document.mutableCopy():Ie.newInvalidDocument(n))}getEntries(e,n){let r=mn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ie.newInvalidDocument(i))}),S.resolve(r)}getAll(e,n,r){let i=mn();const s=new M(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:l,value:{document:a}}=o.getNext();if(!n.isPrefixOf(l.path))break;l.path.length>n.length+1||a.readTime.compareTo(r)<=0||(i=i.insert(a.key,a.mutableCopy()))}return S.resolve(i)}Mi(e,n){return S.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WE(this)}getSize(e){return S.resolve(this.size)}}class WE extends LE{constructor(e){super(),this.Un=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Un.addEntry(e,i)):this.Un.removeEntry(r)}),S.waitFor(n)}getFromCache(e,n){return this.Un.getEntry(e,n)}getAllFromCache(e,n){return this.Un.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.persistence=e,this.Oi=new gr(n=>kc(n),_c),this.lastRemoteSnapshotVersion=j.min(),this.highestTargetId=0,this.$i=0,this.Fi=new xc,this.targetCount=0,this.Bi=nr.mn()}forEachTarget(e,n){return this.Oi.forEach((r,i)=>n(i)),S.resolve()}getLastRemoteSnapshotVersion(e){return S.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return S.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),S.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$i&&(this.$i=n),S.resolve()}In(e){this.Oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Bi=new nr(n),this.highestTargetId=n),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,n){return this.In(n),this.targetCount+=1,S.resolve()}updateTargetData(e,n){return this.In(n),S.resolve()}removeTargetData(e,n){return this.Oi.delete(n.target),this.Fi.Ri(n.targetId),this.targetCount-=1,S.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Oi.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),S.waitFor(s).next(()=>i)}getTargetCount(e){return S.resolve(this.targetCount)}getTargetData(e,n){const r=this.Oi.get(n)||null;return S.resolve(r)}addMatchingKeys(e,n,r){return this.Fi.Ti(n,r),S.resolve()}removeMatchingKeys(e,n,r){this.Fi.Ai(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),S.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Fi.Ri(n),S.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Fi.Pi(n);return S.resolve(r)}containsKey(e,n){return S.resolve(this.Fi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.Li={},this.overlays={},this.Zn=new Tc(0),this.ts=!1,this.ts=!0,this.referenceDelegate=e(this),this.hs=new GE(this),this.indexManager=new PE,this.ls=function(r){return new bE(r)}(r=>this.referenceDelegate.qi(r)),this.M=new RE(n),this.fs=new HE(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Li[e.toKey()];return r||(r=new KE(n,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(e,n,r){D("MemoryPersistence","Starting transaction:",e);const i=new XE(this.Zn.next());return this.referenceDelegate.Ui(),r(i).next(s=>this.referenceDelegate.Ki(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gi(e,n){return S.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,n)))}}class XE extends DE{constructor(e){super(),this.currentSequenceNumber=e}}class Ac{constructor(e){this.persistence=e,this.Qi=new xc,this.ji=null}static Wi(e){return new Ac(e)}get zi(){if(this.ji)return this.ji;throw U()}addReference(e,n,r){return this.Qi.addReference(r,n),this.zi.delete(r.toString()),S.resolve()}removeReference(e,n,r){return this.Qi.removeReference(r,n),this.zi.add(r.toString()),S.resolve()}markPotentiallyOrphaned(e,n){return this.zi.add(n.toString()),S.resolve()}removeTarget(e,n){this.Qi.Ri(n.targetId).forEach(i=>this.zi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.zi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ui(){this.ji=new Set}Ki(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return S.forEach(this.zi,r=>{const i=M.fromPath(r);return this.Hi(e,i).next(s=>{s||n.removeEntry(i,j.min())})}).next(()=>(this.ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hi(e,n).next(r=>{r?this.zi.delete(n.toString()):this.zi.add(n.toString())})}qi(e){return 0}Hi(e,n){return S.or([()=>S.resolve(this.Qi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gi(e,n)])}}class Kf{constructor(){this.activeTargetIds=Eg()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YE{constructor(){this.Or=new Kf,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Or.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,n,r){this.$r[e]=n}removeLocalQueryTarget(e){this.Or.Zi(e)}isLocalQueryTarget(e){return this.Or.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(e){return this.Or.activeTargetIds.has(e)}start(){return this.Or=new Kf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{Fr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Ur(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.Qr=e.Qr,this.jr=e.jr}Wr(e){this.zr=e}Hr(e){this.Jr=e}onMessage(e){this.Yr=e}close(){this.jr()}send(e){this.Qr(e)}Xr(){this.zr()}Zr(e){this.Jr(e)}eo(e){this.Yr(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.no=n+"://"+e.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(e,n,r,i,s){const o=this.ro(e,n);D("RestConnection","Sending: ",o,r);const l={};return this.oo(l,i,s),this.ao(e,o,l,r).then(a=>(D("RestConnection","Received: ",a),a),a=>{throw If("RestConnection",`${e} failed with error: `,a,"url: ",o,"request:",r),a})}uo(e,n,r,i,s){return this.io(e,n,r,i,s)}oo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+pr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ro(e,n){const r=JE[e];return`${this.no}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,n,r,i){return new Promise((s,o)=>{const l=new Tw;l.listenOnce(ww.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ml.NO_ERROR:const u=l.getResponseJson();D("Connection","XHR received:",JSON.stringify(u)),s(u);break;case Ml.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new $(_.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const h=l.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',h,"response text:",l.getResponseText()),h>0){const m=l.getResponseJson().error;if(m&&m.status&&m.message){const p=function(v){const w=v.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(w)>=0?w:_.UNKNOWN}(m.status);o(new $(p,m.message))}else o(new $(_.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new $(_.UNAVAILABLE,"Connection failed."));break;default:U()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(i);l.send(n,"POST",a,r,15)})}co(e,n,r){const i=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yw(),o=vw(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Sw({})),this.oo(l.initMessageHeaders,n,r),o0()||a0()||u0()||c0()||h0()||l0()||(l.httpHeadersOverwriteParam="$httpHeaders");const a=i.join("");D("Connection","Creating WebChannel: "+a,l);const u=s.createWebChannel(a,l);let h=!1,m=!1;const p=new eS({Qr:w=>{m?D("Connection","Not sending because WebChannel is closed:",w):(h||(D("Connection","Opening WebChannel transport."),u.open(),h=!0),D("Connection","WebChannel sending:",w),u.send(w))},jr:()=>u.close()}),v=(w,C,f)=>{w.listen(C,c=>{try{f(c)}catch(d){setTimeout(()=>{throw d},0)}})};return v(u,ds.EventType.OPEN,()=>{m||D("Connection","WebChannel transport opened.")}),v(u,ds.EventType.CLOSE,()=>{m||(m=!0,D("Connection","WebChannel transport closed"),p.Zr())}),v(u,ds.EventType.ERROR,w=>{m||(m=!0,If("Connection","WebChannel transport errored:",w),p.Zr(new $(_.UNAVAILABLE,"The operation could not be completed")))}),v(u,ds.EventType.MESSAGE,w=>{var C;if(!m){const f=w.data[0];se(!!f);const c=f,d=c.error||((C=c[0])===null||C===void 0?void 0:C.error);if(d){D("Connection","WebChannel received error:",d);const g=d.status;let y=function(T){const A=re[T];if(A!==void 0)return wg(A)}(g),R=d.message;y===void 0&&(y=_.INTERNAL,R="Unknown error status: "+g+" with message "+d.message),m=!0,p.Zr(new $(y,R)),u.close()}else D("Connection","WebChannel received:",f),p.eo(f)}}),v(o,Ew.STAT_EVENT,w=>{w.stat===Cf.PROXY?D("Connection","Detected buffering proxy"):w.stat===Cf.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{p.Xr()},0),p}}function jl(){return typeof document!="undefined"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xg(t){return new dE(t,!0)}class Ag{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hn=e,this.timerId=n,this.ho=r,this.lo=i,this.fo=s,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(e){this.cancel();const n=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),i=Math.max(0,n-r);i>0&&D("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this._o} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,i,()=>(this.mo=Date.now(),e())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){this.wo!==null&&(this.wo.skipDelay(),this.wo=null)}cancel(){this.wo!==null&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n,r,i,s,o,l,a){this.Hn=e,this.Eo=r,this.Ao=i,this.Ro=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Ag(e,n)}So(){return this.state===1||this.state===5||this.Do()}Do(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Co()}async stop(){this.So()&&await this.close(0)}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&this.Po===null&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(e){this.Oo(),this.stream.send(e)}async ko(){if(this.Do())return this.close(0)}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,n){this.Oo(),this.$o(),this.vo.cancel(),this.bo++,e!==4?this.vo.reset():n&&n.code===_.RESOURCE_EXHAUSTED?(Vt(n.toString()),Vt("Using maximum backoff delay to prevent overloading the backend."),this.vo.yo()):n&&n.code===_.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Fo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Hr(n)}Fo(){}auth(){this.state=1;const e=this.Bo(this.bo),n=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.bo===n&&this.Lo(r,i)},r=>{e(()=>{const i=new $(_.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(i)})})}Lo(e,n){const r=this.Bo(this.bo);this.stream=this.Uo(e,n),this.stream.Wr(()=>{r(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(i=>{r(()=>this.qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Co(){this.state=5,this.vo.po(async()=>{this.state=0,this.start()})}qo(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Bo(e){return n=>{this.Hn.enqueueAndForget(()=>this.bo===e?n():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rS extends nS{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.M=s}Uo(e,n){return this.Ro.co("Listen",e,n)}onMessage(e){this.vo.reset();const n=vE(this.M,e),r=function(i){if(!("targetChange"in i))return j.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?j.min():s.readTime?xi(s.readTime):j.min()}(e);return this.listener.Ko(n,r)}Go(e){const n={};n.database=Hf(this.M),n.addTarget=function(i,s){let o;const l=s.target;return o=Ka(l)?{documents:wE(i,l)}:{query:EE(i,l)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=mE(i,s.resumeToken):s.snapshotVersion.compareTo(j.min())>0&&(o.readTime=pE(i,s.snapshotVersion.toTimestamp())),o}(this.M,e);const r=TE(this.M,e);r&&(n.labels=r),this.Mo(n)}Qo(e){const n={};n.database=Hf(this.M),n.removeTarget=e,this.Mo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Ro=r,this.M=i,this.Xo=!1}Zo(){if(this.Xo)throw new $(_.FAILED_PRECONDITION,"The client has already been terminated.")}io(e,n,r){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Ro.io(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(_.UNKNOWN,i.toString())})}uo(e,n,r){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.Ro.uo(e,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $(_.UNKNOWN,i.toString())})}terminate(){this.Xo=!0}}class sS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){this.ta===0&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(e){this.state==="Online"?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ia("Offline")))}set(e){this.aa(),this.ta=0,e==="Online"&&(this.na=!1),this.ia(e)}ia(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(Vt(n),this.na=!1):D("OnlineStateTracker",n)}aa(){this.ea!==null&&(this.ea.cancel(),this.ea=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=s,this.fa.Fr(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(l){const a=H(l);a.ha.add(4),await Gi(a),a.da.set("Unknown"),a.ha.delete(4),await Zo(a)}(this))})}),this.da=new sS(r,i)}}async function Zo(t){if(Qi(t))for(const e of t.la)await e(!0)}async function Gi(t){for(const e of t.la)await e(!1)}function Rg(t,e){const n=H(t);n.ca.has(e.targetId)||(n.ca.set(e.targetId,e),Pc(n)?$c(n):yr(n).Do()&&Rc(n,e))}function $g(t,e){const n=H(t),r=yr(n);n.ca.delete(e),r.Do()&&Pg(n,e),n.ca.size===0&&(r.Do()?r.No():Qi(n)&&n.da.set("Unknown"))}function Rc(t,e){t._a.Z(e.targetId),yr(t).Go(e)}function Pg(t,e){t._a.Z(e),yr(t).Qo(e)}function $c(t){t._a=new cE({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.ca.get(e)||null}),yr(t).start(),t.da.sa()}function Pc(t){return Qi(t)&&!yr(t).So()&&t.ca.size>0}function Qi(t){return H(t).ha.size===0}function Og(t){t._a=void 0}async function lS(t){t.ca.forEach((e,n)=>{Rc(t,e)})}async function aS(t,e){Og(t),Pc(t)?(t.da.oa(e),$c(t)):t.da.set("Unknown")}async function uS(t,e,n){if(t.da.set("Online"),e instanceof Tg&&e.state===2&&e.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.ca.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.ca.delete(o),r._a.removeTarget(o))}(t,e)}catch(r){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wf(t,r)}else if(e instanceof xs?t._a.at(e):e instanceof Sg?t._a._t(e):t._a.ht(e),!n.isEqual(j.min()))try{const r=await Dg(t.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i._a.yt(s);return o.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.ca.get(a);u&&i.ca.set(a,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach(l=>{const a=i.ca.get(l);if(!a)return;i.ca.set(l,a.withResumeToken(Se.EMPTY_BYTE_STRING,a.snapshotVersion)),Pg(i,l);const u=new sn(a.target,l,1,a.sequenceNumber);Rc(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){D("RemoteStore","Failed to raise snapshot:",r),await Wf(t,r)}}async function Wf(t,e,n){if(!Wi(e))throw e;t.ha.add(1),await Gi(t),t.da.set("Offline"),n||(n=()=>Dg(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await n(),t.ha.delete(1),await Zo(t)})}async function Gf(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.ha.add(3),await Gi(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.ha.delete(3),await Zo(n)}async function cS(t,e){const n=H(t);e?(n.ha.delete(2),await Zo(n)):e||(n.ha.add(2),await Gi(n),n.da.set("Unknown"))}function yr(t){return t.wa||(t.wa=function(e,n,r){const i=H(e);return i.Zo(),new rS(n,i.Ro,i.authCredentials,i.appCheckCredentials,i.M,r)}(t.datastore,t.asyncQueue,{Wr:lS.bind(null,t),Hr:aS.bind(null,t),Ko:uS.bind(null,t)}),t.la.push(async e=>{e?(t.wa.xo(),Pc(t)?$c(t):t.da.set("Unknown")):(await t.wa.stop(),Og(t))})),t.wa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Oc(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(t,e){if(Vt("AsyncQueue",`${e}: ${t}`),Wi(t))return new $(_.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.comparator=e?(n,r)=>e(n,r)||M.comparator(n.key,r.key):(n,r)=>M.comparator(n.key,r.key),this.keyedMap=Xa(),this.sortedSet=new Te(this.comparator)}static emptySet(e){return new bn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new bn;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(){this.ga=new Te(M.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):U():this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class rr{constructor(e,n,r,i,s,o,l,a){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a}static fromInitialDocuments(e,n,r,i){const s=[];return n.forEach(o=>{s.push({type:0,doc:o})}),new rr(e,n,bn.emptySet(n),s,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.pa=void 0,this.listeners=[]}}class fS{constructor(){this.queries=new gr(e=>cg(e),Qo),this.onlineState="Unknown",this.Ia=new Set}}async function dS(t,e){const n=H(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hS),i)try{s.pa=await n.onListen(r)}catch(o){const l=Lg(o,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,s),s.listeners.push(e),e.Ta(n.onlineState),s.pa&&e.Ea(s.pa)&&Lc(n)}async function pS(t,e){const n=H(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function mS(t,e){const n=H(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.listeners)l.Ea(i)&&(r=!0);o.pa=i}}r&&Lc(n)}function gS(t,e,n){const r=H(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function Lc(t){t.Ia.forEach(e=>{e.next()})}class yS{constructor(e,n,r){this.query=e,this.Aa=n,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}Ea(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new rr(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),n=!0):this.Va(e,this.onlineState)&&(this.va(e),n=!0),this.ba=e,n}onError(e){this.Aa.error(e)}Ta(e){this.onlineState=e;let n=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),n=!0),n}Va(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Sa||!r)&&(!e.docs.isEmpty()||n==="Offline")}Pa(e){if(e.docChanges.length>0)return!0;const n=this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}va(e){e=rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.key=e}}class Fg{constructor(e){this.key=e}}class vS{constructor(e,n){this.query=e,this.ka=n,this.Ma=null,this.current=!1,this.Oa=X(),this.mutatedKeys=X(),this.$a=hg(e),this.Fa=new bn(this.$a)}get Ba(){return this.ka}La(e,n){const r=n?n.qa:new Qf,i=n?n.Fa:this.Fa;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=Ns(this.query)&&i.size===this.query.limit?i.last():null,u=fo(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const p=i.get(h),v=Ic(this.query,m)?m:null,w=!!p&&this.mutatedKeys.has(p.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let f=!1;p&&v?p.data.isEqual(v.data)?w!==C&&(r.track({type:3,doc:v}),f=!0):this.Ua(p,v)||(r.track({type:2,doc:v}),f=!0,(a&&this.$a(v,a)>0||u&&this.$a(v,u)<0)&&(l=!0)):!p&&v?(r.track({type:0,doc:v}),f=!0):p&&!v&&(r.track({type:1,doc:p}),f=!0,(a||u)&&(l=!0)),f&&(v?(o=o.add(v),s=C?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),Ns(this.query)||fo(this.query))for(;o.size>this.query.limit;){const h=Ns(this.query)?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Fa:o,qa:r,ei:l,mutatedKeys:s}}Ua(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;const s=e.qa.ya();s.sort((u,h)=>function(m,p){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return U()}};return v(m)-v(p)}(u.type,h.type)||this.$a(u.doc,h.doc)),this.Ka(r);const o=n?this.Ga():[],l=this.Oa.size===0&&this.current?1:0,a=l!==this.Ma;return this.Ma=l,s.length!==0||a?{snapshot:new rr(this.query,e.Fa,i,s,e.mutatedKeys,l===0,a,!1),Qa:o}:{Qa:o}}Ta(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new Qf,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}Ka(e){e&&(e.addedDocuments.forEach(n=>this.ka=this.ka.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ka=this.ka.delete(n)),this.current=e.current)}Ga(){if(!this.current)return[];const e=this.Oa;this.Oa=X(),this.Fa.forEach(r=>{this.ja(r.key)&&(this.Oa=this.Oa.add(r.key))});const n=[];return e.forEach(r=>{this.Oa.has(r)||n.push(new Fg(r))}),this.Oa.forEach(r=>{e.has(r)||n.push(new Mg(r))}),n}Wa(e){this.ka=e.hi,this.Oa=X();const n=this.La(e.documents);return this.applyChanges(n,!0)}za(){return rr.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,this.Ma===0)}}class wS{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ES{constructor(e){this.key=e,this.Ha=!1}}class SS{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ja={},this.Ya=new gr(l=>cg(l),Qo),this.Xa=new Map,this.Za=new Set,this.tu=new Te(M.comparator),this.eu=new Map,this.nu=new xc,this.su={},this.iu=new Map,this.ru=nr.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return this.ou===!0}}async function TS(t,e){const n=xS(t);let r,i;const s=n.Ya.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.za();else{const o=await zE(n.localStore,pn(e));n.isPrimaryClient&&Rg(n.remoteStore,o);const l=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await CS(n,e,r,l==="current")}return i}async function CS(t,e,n,r){t.au=(h,m,p)=>async function(v,w,C,f){let c=w.view.La(C);c.ei&&(c=await qf(v.localStore,w.query,!1).then(({documents:y})=>w.view.La(y,c)));const d=f&&f.targetChanges.get(w.targetId),g=w.view.applyChanges(c,v.isPrimaryClient,d);return Yf(v,w.targetId,g.Qa),g.snapshot}(t,h,m,p);const i=await qf(t.localStore,e,!0),s=new vS(e,i.hi),o=s.La(i.documents),l=bi.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),a=s.applyChanges(o,t.isPrimaryClient,l);Yf(t,n,a.Qa);const u=new wS(e,n,s);return t.Ya.set(e,u),t.Xa.has(n)?t.Xa.get(n).push(e):t.Xa.set(n,[e]),a.snapshot}async function kS(t,e){const n=H(t),r=n.Ya.get(e),i=n.Xa.get(r.targetId);if(i.length>1)return n.Xa.set(r.targetId,i.filter(s=>!Qo(s,e))),void n.Ya.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Za(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),$g(n.remoteStore,r.targetId),Ja(n,r.targetId)}).catch(Nc)):(Ja(n,r.targetId),await Za(n.localStore,r.targetId,!0))}async function Vg(t,e){const n=H(t);try{const r=await jE(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.eu.get(s);o&&(se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ha=!0:i.modifiedDocuments.size>0?se(o.Ha):i.removedDocuments.size>0&&(se(o.Ha),o.Ha=!1))}),await jg(n,r,e)}catch(r){await Nc(r)}}function Xf(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Ya.forEach((s,o)=>{const l=o.view.Ta(e);l.snapshot&&i.push(l.snapshot)}),function(s,o){const l=H(s);l.onlineState=o;let a=!1;l.queries.forEach((u,h)=>{for(const m of h.listeners)m.Ta(o)&&(a=!0)}),a&&Lc(l)}(r.eventManager,e),i.length&&r.Ja.Ko(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _S(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.eu.get(e),s=i&&i.key;if(s){let o=new Te(M.comparator);o=o.insert(s,Ie.newNoDocument(s,j.min()));const l=X().add(s),a=new Yo(j.min(),new Map,new we(K),o,l);await Vg(r,a),r.tu=r.tu.remove(s),r.eu.delete(e),Mc(r)}else await Za(r.localStore,e,!1).then(()=>Ja(r,e,n)).catch(Nc)}function Ja(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Xa.get(e))t.Ya.delete(r),n&&t.Ja.uu(r,n);t.Xa.delete(e),t.isPrimaryClient&&t.nu.Ri(e).forEach(r=>{t.nu.containsKey(r)||Ug(t,r)})}function Ug(t,e){t.Za.delete(e.path.canonicalString());const n=t.tu.get(e);n!==null&&($g(t.remoteStore,n),t.tu=t.tu.remove(e),t.eu.delete(n),Mc(t))}function Yf(t,e,n){for(const r of n)r instanceof Mg?(t.nu.addReference(r.key,e),IS(t,r)):r instanceof Fg?(D("SyncEngine","Document no longer in limbo: "+r.key),t.nu.removeReference(r.key,e),t.nu.containsKey(r.key)||Ug(t,r.key)):U()}function IS(t,e){const n=e.key,r=n.path.canonicalString();t.tu.get(n)||t.Za.has(r)||(D("SyncEngine","New document in limbo: "+n),t.Za.add(r),Mc(t))}function Mc(t){for(;t.Za.size>0&&t.tu.size<t.maxConcurrentLimboResolutions;){const e=t.Za.values().next().value;t.Za.delete(e);const n=new M(J.fromString(e)),r=t.ru.next();t.eu.set(r,new ES(n)),t.tu=t.tu.insert(n,r),Rg(t.remoteStore,new sn(pn(ag(n.path)),r,2,Tc.A))}}async function jg(t,e,n){const r=H(t),i=[],s=[],o=[];r.Ya.isEmpty()||(r.Ya.forEach((l,a)=>{o.push(r.au(a,e,n).then(u=>{if(u){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,u.fromCache?"not-current":"current"),i.push(u);const h=Dc.Js(a.targetId,u);s.push(h)}}))}),await Promise.all(o),r.Ja.Ko(i),await async function(l,a){const u=H(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>S.forEach(a,m=>S.forEach(m.zs,p=>u.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>S.forEach(m.Hs,p=>u.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!Wi(h))throw h;D("LocalStore","Failed to update sequence numbers: "+h)}for(const h of a){const m=h.targetId;if(!h.fromCache){const p=u.si.get(m),v=p.snapshotVersion,w=p.withLastLimboFreeSnapshotVersion(v);u.si=u.si.insert(m,w)}}}(r.localStore,s))}async function NS(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const r=await Ng(n.localStore,e);n.currentUser=e,function(i,s){i.iu.forEach(o=>{o.forEach(l=>{l.reject(new $(_.CANCELLED,s))})}),i.iu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jg(n,r.ci)}}function DS(t,e){const n=H(t),r=n.eu.get(e);if(r&&r.Ha)return X().add(r.key);{let i=X();const s=n.Xa.get(e);if(!s)return i;for(const o of s){const l=n.Ya.get(o);i=i.unionWith(l.view.Ba)}return i}}function xS(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_S.bind(null,e),e.Ja.Ko=mS.bind(null,e.eventManager),e.Ja.uu=gS.bind(null,e.eventManager),e}class AS{constructor(){this.synchronizeTabs=!1}async initialize(e){this.M=xg(e.databaseInfo.databaseId),this.sharedClientState=this.hu(e),this.persistence=this.lu(e),await this.persistence.start(),this.gcScheduler=this.fu(e),this.localStore=this.du(e)}fu(e){return null}du(e){return UE(this.persistence,new FE,e.initialUser,this.M)}lu(e){return new QE(Ac.Wi,this.M)}hu(e){return new YE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RS{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xf(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NS.bind(null,this.syncEngine),await cS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new fS}createDatastore(e){const n=xg(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new tS(i));var i;return function(s,o,l,a){return new iS(s,o,l,a)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=l=>Xf(this.syncEngine,l,0),o=bf.vt()?new bf:new ZE,new oS(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,l,a,u){const h=new SS(r,i,s,o,l,a);return u&&(h.ou=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=H(e);D("RemoteStore","RemoteStore shutting down."),n.ha.add(5),await Gi(n),n.fa.shutdown(),n.da.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.wu(this.observer.next,e)}error(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}mu(){this.muted=!0}wu(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ve.UNAUTHENTICATED,this.clientId=Rw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{D("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(D("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Lg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function OS(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Ng(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function LS(t,e){t.asyncQueue.verifyOperationInProgress();const n=await MS(t);D("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>Gf(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>Gf(e.remoteStore,s)),t.onlineComponents=e}async function MS(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),await OS(t,new AS)),t.offlineComponents}async function FS(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),await LS(t,new RS)),t.onlineComponents}async function VS(t){const e=await FS(t),n=e.eventManager;return n.onListen=TS.bind(null,e.syncEngine),n.onUnlisten=kS.bind(null,e.syncEngine),n}function US(t,e,n={}){const r=new rn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,a){const u=new $S({next:m=>{s.enqueueAndForget(()=>pS(i,h)),m.fromCache&&l.source==="server"?a.reject(new $(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(m)},error:m=>a.reject(m)}),h=new yS(o,u,{includeMetadataChanges:!0,Sa:!0});return dS(i,h)}(await VS(t),t.asyncQueue,e,n,r)),r.promise}const Zf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t,e,n){if(!n)throw new $(_.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BS(t,e,n,r){if(e===!0&&r===!0)throw new $(_.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jf(t){if(M.isDocumentKey(t))throw new $(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function zS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":U()}function ed(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=zS(t);throw new $(_.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function HS(t,e){if(e<=0)throw new $(_.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,BS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n,r){this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new td({}),this._settingsFrozen=!1,e instanceof er?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new $(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new er(i.options.projectId)}(e))}get app(){if(!this._app)throw new $(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new td(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new kw;switch(n.type){case"gapi":const r=n.client;return se(!(typeof r!="object"||r===null||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Nw(r,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new $(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Zf.get(e);n&&(D("ComponentProvider","Removing Datastore"),Zf.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vr(this.firestore,e,this._key)}}class Xi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Wn extends Xi{constructor(e,n,r){super(e,n,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vr(this.firestore,null,new M(e))}withConverter(e){return new Wn(this.firestore,e,this._path)}}function uT(t,e,...n){if(t=y0(t),jS("collection","path",e),t instanceof Bg){const r=J.fromString(e,...n);return Jf(r),new Wn(t,null,r)}{if(!(t instanceof vr||t instanceof Wn))throw new $(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(J.fromString(e,...n));return Jf(r),new Wn(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Ag(this,"async_queue_retry"),this.Fu=()=>{const n=jl();n&&D("AsyncQueue","Visibility state changed to "+n.visibilityState),this.vo.To()};const e=jl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Bu(),this.Lu(e)}enterRestrictedMode(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;const n=jl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Fu)}}enqueue(e){if(this.Bu(),this.xu)return new Promise(()=>{});const n=new rn;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Cu.push(e),this.qu()))}async qu(){if(this.Cu.length!==0){try{await this.Cu[0](),this.Cu.shift(),this.vo.reset()}catch(e){if(!Wi(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Cu.length>0&&this.vo.po(()=>this.qu())}}Lu(e){const n=this.Du.then(()=>(this.Mu=!0,e().catch(r=>{this.ku=r,this.Mu=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Vt("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Mu=!1,r))));return this.Du=n,n}enqueueAfterDelay(e,n,r){this.Bu(),this.$u.indexOf(e)>-1&&(n=0);const i=Oc.createAndSchedule(this,e,n,r,s=>this.Uu(s));return this.Nu.push(i),i}Bu(){this.ku&&U()}verifyOperationInProgress(){}async Ku(){let e;do e=this.Du,await e;while(e!==this.Du)}Gu(e){for(const n of this.Nu)if(n.timerId===e)return!0;return!1}Qu(e){return this.Ku().then(()=>{this.Nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Ku()})}ju(e){this.$u.push(e)}Uu(e){const n=this.Nu.indexOf(e);this.Nu.splice(n,1)}}class zg extends Bg{constructor(e,n,r){super(e,n,r),this.type="firestore",this._queue=new qS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Hg(this),this._firestoreClient.terminate()}}function cT(t=o1()){return n1(t,"firestore").getImmediate()}function KS(t){return t._firestoreClient||Hg(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hg(t){var e;const n=t._freezeSettings(),r=function(i,s,o,l){return new Lw(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,l.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new PS(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(Se.fromBase64String(e))}catch(n){throw new $(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(Se.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return K(this._lat,e._lat)||K(this._long,e._long)}}const WS=new RegExp("[~\\*/\\[\\]]");function GS(t,e,n){if(e.search(WS)>=0)throw nd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw nd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(s||o)&&(a+=" (found",s&&(a+=` in field ${r}`),o&&(a+=` in document ${i}`),a+=")"),new $(_.INVALID_ARGUMENT,l+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QS extends Kg{data(){return super.data()}}function bg(t,e){return typeof e=="string"?GS(t,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XS extends Kg{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new As(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class As extends XS{data(e={}){return super.data(e)}}class YS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ms(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new As(this._firestore,this._userDataWriter,r.key,r,new ms(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new As(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ms(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new As(r._firestore,r._userDataWriter,o.doc.key,o.doc,new ms(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let a=-1,u=-1;return o.type!==0&&(a=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:ZS(o.type),doc:l,oldIndex:a,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return U()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t){if(fo(t)&&t.explicitOrderBy.length===0)throw new $(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eT{}function hT(t,...e){for(const n of e)t=n._apply(t);return t}class tT extends eT{constructor(e,n,r){super(),this.type=e,this.lc=n,this.fc=r}_apply(e){return new Xi(e.firestore,e.converter,ug(e._query,this.lc,this.fc))}}function fT(t){return HS("limit",t),new tT("limit",t,"F")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{convertValue(e,n="none"){switch(dn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ie(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw U()}}convertObject(e,n){const r={};return Wo(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new bS(ie(e.latitude),ie(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=og(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ii(e));default:return null}}convertTimestamp(e){const n=Ut(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=J.fromString(e);se(Ig(r));const i=new er(r.get(1),r.get(3)),s=new M(r.popFirst(5));return i.isEqual(n)||Vt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class rT extends nT{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vr(this.firestore,null,n)}}function dT(t){t=ed(t,Xi);const e=ed(t.firestore,zg),n=KS(e),r=new rT(e);return JS(t._query),US(n,t._query).then(i=>new YS(e,r,t,i))}(function(t,e=!0){(function(n){pr=n})(s1),to(new yi("firestore",(n,{options:r})=>{const i=n.getProvider("app").getImmediate(),s=new zg(i,new _w(n.getProvider("auth-internal")),new xw(n.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),qn(kf,"3.4.6",t),qn(kf,"3.4.6","esm2017")})();var iT="firebase",sT="9.6.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qn(iT,sT,"app");export{lT as R,hT as T,fT as V,oT as a,aT as i,Yv as j,cT as p,yo as r,uT as u,dT as z};
